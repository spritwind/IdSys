const fs = require('fs');
const path = require('path');

// 簡繁轉換字典（台灣用語）- 更完整版本
const dict = {
    // 單字轉換（最容易遺漏的）
    "请": "請",
    "这": "這",
    "应": "應",
    "须": "須",
    "关": "關",
    "实": "實",
    "类": "類",
    "仅": "僅",
    "号": "號",
    "试": "試",
    "帐": "帳",
    "户": "戶",
    "电": "電",
    "码": "碼",
    "适": "適",
    "丢": "丟",
    "访": "訪",
    "过": "過",
    "则": "則",
    "该": "該",
    "许": "許",
    "单": "單",
    "击": "擊",
    "点": "點",
    "发": "發",
    "紧": "緊",
    "无": "無",
    "将": "將",
    "标": "標",
    "识": "識",
    "传": "傳",
    "规": "規",
    "组": "組",
    "构": "構",
    "强": "強",
    "获": "獲",
    "进": "進",
    "隐": "隱",
    "码": "碼",
    "现": "現",
    "参": "參",
    "阅": "閱",
    "询": "詢",
    "载": "載",
    "确": "確",
    "纯": "純",
    "质": "質",
    "储": "儲",
    "决": "決",
    "邮": "郵",
    "编": "編",
    "协": "協",
    "议": "議",
    "录": "錄",
    "认": "認",
    "飞": "飛",
    "顺": "順",
    "义": "義",
    "习": "習",
    "乐": "樂",
    "书": "書",
    "买": "買",
    "亲": "親",
    "仆": "僕",
    "仪": "儀",
    "众": "眾",
    "优": "優",
    "伪": "偽",
    "会": "會",
    "伞": "傘",
    "佣": "傭",
    "侠": "俠",
    "侧": "側",
    "侦": "偵",
    "债": "債",
    "值": "值",
    "假": "假",
    "偏": "偏",
    "偿": "償",
    "储": "儲",
    "兑": "兌",
    "兰": "蘭",
    "养": "養",
    "兽": "獸",
    "内": "內",
    "冲": "沖",
    "决": "決",
    "况": "況",
    "净": "淨",
    "凭": "憑",
    "减": "減",
    "几": "幾",
    "凤": "鳳",
    "刘": "劉",
    "划": "劃",
    "别": "別",
    "创": "創",
    "刚": "剛",
    "则": "則",
    "刹": "剎",
    "剂": "劑",
    "剧": "劇",
    "办": "辦",
    "功": "功",
    "务": "務",
    "动": "動",
    "劝": "勸",
    "势": "勢",
    "勋": "勳",
    "区": "區",
    "医": "醫",
    "华": "華",
    "协": "協",
    "单": "單",
    "卖": "賣",
    "卫": "衛",
    "厂": "廠",
    "厅": "廳",
    "历": "歷",
    "压": "壓",
    "厌": "厭",
    "县": "縣",
    "参": "參",
    "叙": "敘",
    "变": "變",
    "叶": "葉",
    "号": "號",
    "叹": "嘆",
    "听": "聽",
    "启": "啟",
    "吓": "嚇",
    "响": "響",
    "哗": "嘩",
    "团": "團",
    "园": "園",
    "围": "圍",
    "图": "圖",
    "国": "國",
    "圣": "聖",
    "场": "場",
    "坚": "堅",
    "坛": "壇",
    "坝": "壩",
    "垒": "壘",
    "垦": "墾",
    "块": "塊",
    "坟": "墳",
    "壮": "壯",
    "声": "聲",
    "壳": "殼",
    "处": "處",
    "备": "備",
    "复": "複",
    "够": "夠",
    "头": "頭",
    "夸": "誇",
    "夺": "奪",
    "奋": "奮",
    "奖": "獎",
    "奥": "奧",
    "妇": "婦",
    "妈": "媽",
    "娱": "娛",
    "婴": "嬰",
    "学": "學",
    "宁": "寧",
    "宝": "寶",
    "审": "審",
    "宪": "憲",
    "宽": "寬",
    "实": "實",
    "宠": "寵",
    "宫": "宮",
    "对": "對",
    "寻": "尋",
    "导": "導",
    "尔": "爾",
    "尘": "塵",
    "尝": "嘗",
    "尽": "盡",
    "层": "層",
    "属": "屬",
    "岁": "歲",
    "岛": "島",
    "岭": "嶺",
    "币": "幣",
    "师": "師",
    "帅": "帥",
    "师": "師",
    "帮": "幫",
    "带": "帶",
    "帜": "幟",
    "广": "廣",
    "庄": "莊",
    "庆": "慶",
    "废": "廢",
    "廉": "廉",
    "开": "開",
    "异": "異",
    "弃": "棄",
    "张": "張",
    "弥": "彌",
    "弹": "彈",
    "归": "歸",
    "当": "當",
    "录": "錄",
    "彻": "徹",
    "径": "徑",
    "徽": "徽",
    "忆": "憶",
    "态": "態",
    "总": "總",
    "怀": "懷",
    "怜": "憐",
    "悬": "懸",
    "惊": "驚",
    "惧": "懼",
    "惯": "慣",
    "惨": "慘",
    "愿": "願",
    "慑": "懾",
    "恶": "惡",
    "戏": "戲",
    "战": "戰",
    "户": "戶",
    "护": "護",
    "报": "報",
    "担": "擔",
    "拟": "擬",
    "拥": "擁",
    "择": "擇",
    "挂": "掛",
    "挡": "擋",
    "挤": "擠",
    "挥": "揮",
    "损": "損",
    "挺": "挺",
    "据": "據",
    "摄": "攝",
    "摆": "擺",
    "摧": "摧",
    "摩": "摩",
    "撑": "撐",
    "撤": "撤",
    "擅": "擅",
    "改": "改",
    "效": "效",
    "敌": "敵",
    "斗": "鬥",
    "斩": "斬",
    "无": "無",
    "日": "日",
    "旧": "舊",
    "时": "時",
    "显": "顯",
    "晋": "晉",
    "晒": "曬",
    "晓": "曉",
    "暂": "暫",
    "术": "術",
    "机": "機",
    "杀": "殺",
    "杂": "雜",
    "权": "權",
    "条": "條",
    "来": "來",
    "极": "極",
    "构": "構",
    "枪": "槍",
    "柜": "櫃",
    "档": "檔",
    "桥": "橋",
    "梦": "夢",
    "检": "檢",
    "树": "樹",
    "样": "樣",
    "标": "標",
    "栈": "棧",
    "栏": "欄",
    "栖": "棲",
    "欢": "歡",
    "欧": "歐",
    "歼": "殲",
    "残": "殘",
    "毁": "毀",
    "毕": "畢",
    "气": "氣",
    "汇": "匯",
    "汉": "漢",
    "污": "污",
    "汤": "湯",
    "沉": "沉",
    "沟": "溝",
    "没": "沒",
    "泪": "淚",
    "洁": "潔",
    "浅": "淺",
    "测": "測",
    "济": "濟",
    "浏": "瀏",
    "浑": "渾",
    "浓": "濃",
    "涛": "濤",
    "涡": "渦",
    "润": "潤",
    "涨": "漲",
    "涩": "澀",
    "淀": "澱",
    "温": "溫",
    "渐": "漸",
    "渔": "漁",
    "渠": "渠",
    "港": "港",
    "游": "遊",
    "湿": "濕",
    "满": "滿",
    "滤": "濾",
    "滥": "濫",
    "滨": "濱",
    "滩": "灘",
    "灭": "滅",
    "灯": "燈",
    "灵": "靈",
    "灾": "災",
    "灿": "燦",
    "炉": "爐",
    "炼": "煉",
    "点": "點",
    "烂": "爛",
    "热": "熱",
    "焕": "煥",
    "爱": "愛",
    "牵": "牽",
    "犹": "猶",
    "独": "獨",
    "狭": "狹",
    "狮": "獅",
    "献": "獻",
    "玛": "瑪",
    "环": "環",
    "现": "現",
    "珑": "瓏",
    "球": "球",
    "琐": "瑣",
    "璃": "璃",
    "瓶": "瓶",
    "画": "畫",
    "畅": "暢",
    "异": "異",
    "疗": "療",
    "痴": "癡",
    "皱": "皺",
    "盐": "鹽",
    "监": "監",
    "盖": "蓋",
    "盘": "盤",
    "盗": "盜",
    "眯": "瞇",
    "睁": "睜",
    "瞒": "瞞",
    "矿": "礦",
    "码": "碼",
    "碍": "礙",
    "确": "確",
    "礼": "禮",
    "社": "社",
    "祸": "禍",
    "禅": "禪",
    "离": "離",
    "种": "種",
    "秆": "稈",
    "积": "積",
    "称": "稱",
    "税": "稅",
    "稳": "穩",
    "穷": "窮",
    "窃": "竊",
    "竞": "競",
    "笔": "筆",
    "笼": "籠",
    "筛": "篩",
    "签": "簽",
    "简": "簡",
    "籁": "籟",
    "类": "類",
    "粗": "粗",
    "粮": "糧",
    "粪": "糞",
    "精": "精",
    "纠": "糾",
    "红": "紅",
    "纤": "纖",
    "约": "約",
    "级": "級",
    "纪": "紀",
    "纬": "緯",
    "纯": "純",
    "纱": "紗",
    "纲": "綱",
    "纳": "納",
    "纵": "縱",
    "纷": "紛",
    "纸": "紙",
    "纹": "紋",
    "纺": "紡",
    "练": "練",
    "组": "組",
    "细": "細",
    "终": "終",
    "绍": "紹",
    "经": "經",
    "结": "結",
    "绕": "繞",
    "绘": "繪",
    "给": "給",
    "络": "絡",
    "绝": "絕",
    "统": "統",
    "继": "繼",
    "绩": "績",
    "续": "續",
    "综": "綜",
    "绿": "綠",
    "缓": "緩",
    "编": "編",
    "缘": "緣",
    "缝": "縫",
    "缠": "纏",
    "缩": "縮",
    "罗": "羅",
    "网": "網",
    "罢": "罷",
    "翻": "翻",
    "翼": "翼",
    "老": "老",
    "耻": "恥",
    "联": "聯",
    "聂": "聶",
    "聪": "聰",
    "职": "職",
    "脉": "脈",
    "脏": "髒",
    "脑": "腦",
    "腊": "臘",
    "腻": "膩",
    "舆": "輿",
    "舰": "艦",
    "舱": "艙",
    "艰": "艱",
    "艳": "艷",
    "芦": "蘆",
    "苍": "蒼",
    "苏": "蘇",
    "范": "範",
    "荐": "薦",
    "荡": "蕩",
    "荣": "榮",
    "药": "藥",
    "虑": "慮",
    "虚": "虛",
    "虫": "蟲",
    "蚕": "蠶",
    "蝇": "蠅",
    "蝴": "蝴",
    "行": "行",
    "衬": "襯",
    "袭": "襲",
    "裤": "褲",
    "观": "觀",
    "规": "規",
    "觉": "覺",
    "览": "覽",
    "解": "解",
    "触": "觸",
    "订": "訂",
    "计": "計",
    "认": "認",
    "讨": "討",
    "让": "讓",
    "训": "訓",
    "议": "議",
    "讯": "訊",
    "记": "記",
    "讲": "講",
    "许": "許",
    "论": "論",
    "设": "設",
    "访": "訪",
    "证": "證",
    "评": "評",
    "识": "識",
    "诉": "訴",
    "词": "詞",
    "译": "譯",
    "试": "試",
    "诗": "詩",
    "话": "話",
    "该": "該",
    "详": "詳",
    "语": "語",
    "误": "誤",
    "说": "說",
    "请": "請",
    "诺": "諾",
    "读": "讀",
    "调": "調",
    "谁": "誰",
    "课": "課",
    "谈": "談",
    "谊": "誼",
    "谋": "謀",
    "谐": "諧",
    "谓": "謂",
    "谢": "謝",
    "谱": "譜",
    "负": "負",
    "贡": "貢",
    "财": "財",
    "责": "責",
    "账": "帳",
    "货": "貨",
    "质": "質",
    "贫": "貧",
    "费": "費",
    "贴": "貼",
    "贵": "貴",
    "购": "購",
    "贷": "貸",
    "贸": "貿",
    "贺": "賀",
    "资": "資",
    "赋": "賦",
    "赌": "賭",
    "赔": "賠",
    "赖": "賴",
    "赛": "賽",
    "赞": "贊",
    "赠": "贈",
    "赢": "贏",
    "赵": "趙",
    "趋": "趨",
    "跃": "躍",
    "踊": "踴",
    "踪": "蹤",
    "身": "身",
    "躯": "軀",
    "车": "車",
    "轨": "軌",
    "轩": "軒",
    "转": "轉",
    "轮": "輪",
    "软": "軟",
    "轰": "轟",
    "轻": "輕",
    "载": "載",
    "辅": "輔",
    "输": "輸",
    "辑": "輯",
    "辖": "轄",
    "边": "邊",
    "达": "達",
    "迁": "遷",
    "过": "過",
    "运": "運",
    "还": "還",
    "这": "這",
    "进": "進",
    "远": "遠",
    "违": "違",
    "连": "連",
    "迟": "遲",
    "适": "適",
    "选": "選",
    "逊": "遜",
    "递": "遞",
    "逻": "邏",
    "遗": "遺",
    "邮": "郵",
    "邻": "鄰",
    "郑": "鄭",
    "配": "配",
    "酝": "醞",
    "酬": "酬",
    "里": "裡",
    "释": "釋",
    "针": "針",
    "钉": "釘",
    "钓": "釣",
    "钟": "鐘",
    "钢": "鋼",
    "钥": "鑰",
    "钩": "鉤",
    "钻": "鑽",
    "铁": "鐵",
    "铃": "鈴",
    "铅": "鉛",
    "铜": "銅",
    "银": "銀",
    "销": "銷",
    "锁": "鎖",
    "锅": "鍋",
    "锋": "鋒",
    "锐": "銳",
    "错": "錯",
    "锡": "錫",
    "键": "鍵",
    "镇": "鎮",
    "镜": "鏡",
    "门": "門",
    "闪": "閃",
    "闭": "閉",
    "问": "問",
    "闯": "闖",
    "闲": "閒",
    "间": "間",
    "闷": "悶",
    "闹": "鬧",
    "闻": "聞",
    "闽": "閩",
    "阅": "閱",
    "阶": "階",
    "阻": "阻",
    "阳": "陽",
    "阴": "陰",
    "阵": "陣",
    "阶": "階",
    "院": "院",
    "队": "隊",
    "阻": "阻",
    "际": "際",
    "陆": "陸",
    "陈": "陳",
    "险": "險",
    "隐": "隱",
    "随": "隨",
    "隶": "隸",
    "难": "難",
    "雅": "雅",
    "雾": "霧",
    "霍": "霍",
    "霞": "霞",
    "青": "青",
    "静": "靜",
    "顶": "頂",
    "项": "項",
    "顺": "順",
    "须": "須",
    "预": "預",
    "领": "領",
    "频": "頻",
    "颗": "顆",
    "题": "題",
    "额": "額",
    "颜": "顏",
    "颠": "顛",
    "风": "風",
    "飞": "飛",
    "饥": "飢",
    "饭": "飯",
    "饰": "飾",
    "饲": "飼",
    "饼": "餅",
    "馆": "館",
    "驱": "驅",
    "驳": "駁",
    "验": "驗",
    "骂": "罵",
    "骏": "駿",
    "骗": "騙",
    "骚": "騷",
    "骤": "驟",
    "骨": "骨",
    "骯": "骯",
    "髻": "髻",
    "鬓": "鬢",
    "鱼": "魚",
    "鲁": "魯",
    "鲜": "鮮",
    "鳄": "鱷",
    "鸟": "鳥",
    "鸣": "鳴",
    "鸿": "鴻",
    "麦": "麥",
    "麻": "麻",
    "黄": "黃",
    "黑": "黑",
    "默": "默",
    "齐": "齊",
    "龙": "龍",
    "龟": "龜",

    // 常見詞組
    "欢迎": "歡迎",
    "发现": "探索",
    "字符": "字元",
    "项目": "專案",
    "元数据": "中繼資料",
    "接口": "介面",
    "回复": "回覆",
    "帐户": "帳戶",
    "帐号": "帳號",
    "电子": "電子",
    "电话": "電話",
    "号码": "號碼",
    "手机": "手機",
    "请求": "請求",
    "请通过": "請透過",
    "请输入": "請輸入",
    "请选择": "請選擇",
    "请检查": "請檢查",
    "请确认": "請確認",
    "请参阅": "請參閱",
    "请执行": "請執行",
    "尝试": "嘗試",
    "稍后": "稍後",
    "稍後": "稍後",
    "应该": "應該",
    "必须": "必須",
    "关联": "關聯",
    "关闭": "關閉",
    "关于": "關於",
    "实现": "實現",
    "实施": "實施",
    "仅适用": "僅適用",
    "仅用于": "僅用於",
    "仅停用": "僅停用",
    "类型": "類型",
    "类进": "類進",
    "无关": "無關",
    "无法": "無法",
    "无权": "無權",
    "访问": "存取",
    "退出": "登出",
    "支持": "支援",
    "通过": "透過",
    "这个": "這個",
    "这里": "這裡",
    "这样": "這樣",
    "这些": "這些",
    "这种": "這種",
    "则应": "則應",
    "则可": "則可",
    "该值": "該值",
    "该资料": "該資料",
    "允许": "允許",
    "单击": "點擊",
    "点击": "點擊",
    "点此": "點此",
    "发生": "發生",
    "发送": "傳送",
    "紧要": "緊要",
    "将会": "將會",
    "将无法": "將無法",
    "标识": "識別碼",
    "标识符": "識別碼",
    "传送": "傳送",
    "规范": "規範",
    "规则": "規則",
    "组合": "組合",
    "构建": "建構",
    "强化": "強化",
    "获取": "取得",
    "进行": "進行",
    "隐式": "隱含式",
    "丢失": "遺失",
    "以下": "以下",
    "步骤": "步驟",
    "情况": "情況",
    "每个": "每個",
    "一个": "一個",
    "某个": "某個",
    "另一个": "另一個",
    "自己": "自己",

    // 動詞類
    "创建": "建立",
    "删除": "刪除",
    "编辑": "編輯",
    "保存": "儲存",
    "确认": "確認",
    "确定": "確定",
    "登录": "登入",
    "注销": "登出",
    "注册": "註冊",
    "搜索": "搜尋",
    "查询": "查詢",
    "添加": "新增",
    "修改": "修改",
    "更新": "更新",
    "刷新": "重新整理",
    "提交": "提交",
    "上传": "上傳",
    "下载": "下載",
    "导入": "匯入",
    "导出": "匯出",
    "选择": "選擇",
    "启用": "啟用",
    "禁用": "停用",
    "停用": "停用",
    "激活": "啟用",
    "锁定": "鎖定",
    "解锁": "解鎖",
    "授权": "授權",
    "认证": "驗證",
    "验证": "驗證",
    "检查": "檢查",
    "查看": "檢視",
    "预览": "預覽",
    "管理": "管理",
    "监控": "監控",
    "审计": "稽核",
    "审核": "審核",
    "克隆": "複製",
    "连接": "連線",
    "断开": "中斷",
    "跳转": "跳轉",
    "执行": "執行",
    "运行": "執行",
    "启动": "啟動",
    "暂停": "暫停",
    "继续": "繼續",
    "重试": "重試",
    "重置": "重設",
    "清空": "清除",
    "复制": "複製",
    "粘贴": "貼上",
    "剪切": "剪下",
    "撤销": "復原",
    "恢复": "還原",
    "备份": "備份",
    "还原": "還原",
    "同步": "同步",
    "回调": "回呼",
    "响应": "回應",
    "触发": "觸發",
    "发布": "發布",
    "接收": "接收",
    "订阅": "訂閱",
    "测试": "測試",
    "部署": "部署",
    "打开": "開啟",
    "显示": "顯示",
    "隐藏": "隱藏",
    "展开": "展開",
    "折叠": "收合",
    "排序": "排序",
    "筛选": "篩選",
    "过滤": "過濾",
    "忘记": "忘記",
    "记住": "記住",
    "没有": "沒有",
    "确保": "確保",
    "指定": "指定",
    "生成": "產生",
    "完成": "完成",
    "设置": "設定",
    "设定": "設定",

    // 名詞類
    "用户": "使用者",
    "用户名": "使用者名稱",
    "密码": "密碼",
    "邮箱": "電子郵件",
    "邮件": "郵件",
    "信息": "資訊",
    "消息": "訊息",
    "错误": "錯誤",
    "失败": "失敗",
    "警告": "警告",
    "提示": "提示",
    "配置": "設定",
    "选项": "選項",
    "权限": "權限",
    "身份": "身分",
    "凭证": "憑證",
    "证书": "憑證",
    "秘钥": "金鑰",
    "密钥": "金鑰",
    "令牌": "權杖",
    "资源": "資源",
    "范围": "範圍",
    "作用域": "範圍",
    "客户端": "用戶端",
    "服务器": "伺服器",
    "服务": "服務",
    "应用程序": "應用程式",
    "应用程式": "應用程式",
    "应用": "應用",
    "程序": "程式",
    "软件": "軟體",
    "系统": "系統",
    "网络": "網路",
    "网站": "網站",
    "链接": "連結",
    "路径": "路徑",
    "文件": "文件",
    "文档": "文件",
    "目录": "目錄",
    "文件夹": "資料夾",
    "数据": "資料",
    "数据库": "資料庫",
    "表单": "表單",
    "字段": "欄位",
    "属性": "屬性",
    "参数": "參數",
    "变量": "變數",
    "常量": "常數",
    "模板": "範本",
    "样式": "樣式",
    "布局": "版面配置",
    "界面": "介面",
    "菜单": "選單",
    "按钮": "按鈕",
    "标签": "標籤",
    "标题": "標題",
    "内容": "內容",
    "描述": "描述",
    "说明": "說明",
    "备注": "備註",
    "注释": "註解",
    "帮助": "說明",
    "版本": "版本",
    "状态": "狀態",
    "进度": "進度",
    "结果": "結果",
    "输入": "輸入",
    "输出": "輸出",
    "分页": "分頁",
    "页面": "頁面",
    "首页": "首頁",
    "总计": "總計",
    "统计": "統計",
    "报表": "報表",
    "图表": "圖表",
    "日志": "記錄",
    "记录": "紀錄",
    "历史": "歷史",
    "操作": "操作",
    "事件": "事件",
    "动作": "動作",
    "行为": "行為",
    "流程": "流程",
    "阶段": "階段",
    "周期": "週期",
    "生命周期": "生命週期",
    "限制": "限制",
    "条件": "條件",
    "环境": "環境",
    "开发": "開發",
    "生产": "正式",
    "角色": "角色",
    "声明": "宣告",
    "国家": "國家",
    "区域": "區域",
    "语言": "語言",
    "时区": "時區",
    "货币": "貨幣",
    "单位": "單位",
    "小时": "小時",
    "分钟": "分鐘",
    "两步验证": "雙重驗證",
    "双因素": "雙重因素",
    "验证器": "驗證器",
    "恢复代码": "復原代碼",
    "还原码": "復原碼",
    "个人资料": "個人資料",
    "隐私": "隱私",
    "安全": "安全",
    "设备": "裝置",
    "装置": "裝置",
    "浏览器": "瀏覽器",
    "平台": "平台",
    "通知": "通知",
    "群组": "群組",
    "团队": "團隊",
    "组织": "組織",
    "企业": "企業",
    "客户": "客戶",
    "会员": "會員",
    "访客": "訪客",
    "管理员": "管理員",
    "开发者": "開發者",
    "屏幕": "畫面",
    "会话": "工作階段",

    // 身分驗證相關
    "刷新令牌": "重新整理權杖",
    "访问令牌": "存取權杖",
    "身份令牌": "身分權杖",
    "持久授权": "持續授權",
    "重定向": "重新導向",
    "回复地址": "回覆網址",
    "登出地址": "登出網址",
    "跨域": "跨網域",

    // 形容詞類
    "过期": "到期",
    "有效": "有效",
    "无效": "無效",
    "必填": "必填",
    "可选": "選填",
    "默认": "預設",
    "预设": "預設",
    "自定义": "自訂",
    "高级": "進階",
    "详细": "詳細",
    "简介": "簡介",
    "唯一": "唯一",
    "嵌入": "嵌入",
    "敏感": "敏感",

    // 副詞/連詞類
    "正在": "正在",
    "已经": "已經",
    "即将": "即將",
    "然后": "然後",
    "因为": "因為",
    "所以": "所以",
    "虽然": "雖然",
    "同时": "同時",
    "最后": "最後",
    "总之": "總之",
    "并且": "並且",

    // 短句
    "已成功": "已成功",
    "已创建": "已建立",
    "已删除": "已刪除",
    "已更新": "已更新",
    "已保存": "已儲存",
    "返回列表": "返回清單",
    "返回首页": "返回首頁",
    "上一步": "上一步",
    "下一步": "下一步",
    "上一页": "上一頁",
    "下一页": "下一頁",

    // 其他常用
    "里": "裡",
    "个": "個",
    "们": "們",
    "会": "會",
    "还": "還",
    "为": "為",
    "与": "與",
    "对": "對",
    "于": "於",
    "并": "並",
    "当": "當",
    "时": "時",
    "后": "後",
    "种": "種",
    "项": "項",
    "条": "條",
    "列表": "清單"
};

// 遞歸查找所有 .zh.resx 檔案
function findFiles(dir, pattern, files = []) {
    const items = fs.readdirSync(dir);
    for (const item of items) {
        const fullPath = path.join(dir, item);
        const stat = fs.statSync(fullPath);
        if (stat.isDirectory()) {
            findFiles(fullPath, pattern, files);
        } else if (item.endsWith(pattern)) {
            files.push(fullPath);
        }
    }
    return files;
}

// 轉換函數
function convert(text) {
    // 按照長度排序字典，先替換長的詞彙
    const sortedKeys = Object.keys(dict).sort((a, b) => b.length - a.length);

    for (const key of sortedKeys) {
        const regex = new RegExp(key, 'g');
        text = text.replace(regex, dict[key]);
    }

    return text;
}

// 主程式
const srcDir = 'c:/Users/User/SideProject/Duende.IdentityServer.Admin/src';
const files = findFiles(srcDir, '.zh.resx');

console.log(`找到 ${files.length} 個語系檔案`);

let converted = 0;
for (const file of files) {
    try {
        let content = fs.readFileSync(file, 'utf8');
        const originalContent = content;
        content = convert(content);

        if (content !== originalContent) {
            fs.writeFileSync(file, content, 'utf8');
            converted++;
            console.log(`已轉換: ${path.basename(file)}`);
        }
    } catch (err) {
        console.error(`錯誤: ${file} - ${err.message}`);
    }
}

console.log(`\n轉換完成！共轉換 ${converted} 個檔案`);
