2026-01-14 22:33:05.115 +08:00 [DBG] Hosting starting
2026-01-14 22:33:05.278 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'IdentityServerDataProtectionDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: MigrationsAssembly=Skoruba.Duende.IdentityServer.Admin.EntityFramework.Configuration EngineType=SqlServer 
2026-01-14 22:33:05.300 +08:00 [DBG] Compiling query expression: 
'DbSet<DataProtectionKey>()
    .AsNoTracking()'
2026-01-14 22:33:05.459 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<DataProtectionKey>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DataProtectionKey.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DataProtectionKey.FriendlyName (string), 1], [Property: DataProtectionKey.Xml (string), 2] }
        SELECT d.Id, d.FriendlyName, d.Xml
        FROM DataProtectionKeys AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DataProtectionKey.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DataProtectionKey.FriendlyName (string), 1], [Property: DataProtectionKey.Xml (string), 2] }
        SELECT d.Id, d.FriendlyName, d.Xml
        FROM DataProtectionKeys AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DataProtectionKey entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            DataProtectionKey instance1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(DataProtectionKey);
            (object)dataReader.GetInt32(0) != null ? 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: DataProtectionKey | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.DataProtectionKey")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: DataProtectionKey | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.DataProtectionKey")]: 
                        {
                            return 
                            {
                                DataProtectionKey instance;
                                instance = new DataProtectionKey();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<FriendlyName>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<Xml>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: DataProtectionKey | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.DataProtectionKey")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(DataProtectionKey)
                }
                ;
                return instance1;
            } : 
            {
                object[] keyValues1;
                keyValues1 = new object[]{ (object)dataReader.GetInt32(0) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: DataProtectionKey | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.DataProtectionKey")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: DataProtectionKey.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.DataProtectionKey").FindPrimaryKey().Properties], 
                    keyValues: keyValues1);
            };
            return instance1;
        };
        return entity;
    }, 
    contextType: Skoruba.Duende.IdentityServer.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-01-14 22:33:05.481 +08:00 [DBG] Creating DbConnection.
2026-01-14 22:33:05.484 +08:00 [DBG] Created DbConnection. (4ms).
2026-01-14 22:33:05.486 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:05.490 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:05.494 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:05.498 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2026-01-14 22:33:05.499 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2026-01-14 22:33:05.503 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]
2026-01-14 22:33:05.521 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]
2026-01-14 22:33:05.525 +08:00 [DBG] Reading data with key 'key-3a3f1e82-f4cf-4f26-8931-74903ec634b9', value '<key id="3a3f1e82-f4cf-4f26-8931-74903ec634b9" version="1"><creationDate>2025-12-19T04:09:12.0078527Z</creationDate><activationDate>2025-12-19T04:09:12.0078527Z</activationDate><expirationDate>2026-03-19T04:09:12.0078527Z</expirationDate><descriptor deserializerType="Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60"><descriptor><encryption algorithm="AES_256_CBC" /><validation algorithm="HMACSHA256" /><masterKey p4:requiresEncryption="true" xmlns:p4="http://schemas.asp.net/2015/03/dataProtection"><!-- Warning: the key below is in an unencrypted form. --><value>nfqvGxTcczom5HGRPm54gNPZoTH+FkB7PY9LW70ULilsVS2p8M9Ou2buIZuPq6bNCG5+YR5v/IoAN3UWc7vcuw==</value></masterKey></descriptor></descriptor></key>'.
2026-01-14 22:33:05.529 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:05.532 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 7ms reading results.
2026-01-14 22:33:05.533 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:05.534 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:05.534 +08:00 [DBG] 'IdentityServerDataProtectionDbContext' disposed.
2026-01-14 22:33:05.535 +08:00 [DBG] Disposing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:05.536 +08:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-01-14 22:33:05.542 +08:00 [DBG] Found key {3a3f1e82-f4cf-4f26-8931-74903ec634b9}.
2026-01-14 22:33:05.550 +08:00 [DBG] Considering key {3a3f1e82-f4cf-4f26-8931-74903ec634b9} with expiration date 2026-03-19 04:09:12Z as default key.
2026-01-14 22:33:05.555 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-14 22:33:05.557 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-01-14 22:33:05.559 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-01-14 22:33:05.563 +08:00 [DBG] Using key {3a3f1e82-f4cf-4f26-8931-74903ec634b9} as the default key.
2026-01-14 22:33:05.564 +08:00 [DBG] Key ring with default key {3a3f1e82-f4cf-4f26-8931-74903ec634b9} was loaded during application startup.
2026-01-14 22:33:05.605 +08:00 [INF] Starting Duende IdentityServer version 7.3.2+build.0.7d3159f7be1314e01f03a23ad33dd7b665151ee5 (.NET 9.0.0)
2026-01-14 22:33:05.608 +08:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2026-01-14 22:33:05.612 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2026-01-14 22:33:05.629 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2026-01-14 22:33:05.720 +08:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-01-14 22:33:05.720 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-01-14 22:33:05.721 +08:00 [DBG] Loaded hosting startup assembly Skoruba.Duende.IdentityServer.STS.Identity
2026-01-14 22:33:05.721 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-14 22:33:05.721 +08:00 [INF] Hosting environment: Production
2026-01-14 22:33:05.721 +08:00 [INF] Content root path: C:\Workspace\PRSWeb\STS
2026-01-14 22:33:05.721 +08:00 [DBG] Hosting started
2026-01-14 22:33:05.733 +08:00 [INF] Request starting HTTP/1.1 POST https://prs.uccapital.com.tw/sts/connect/introspect - application/x-www-form-urlencoded 1467
2026-01-14 22:33:05.737 +08:00 [DBG] POST requests are not supported
2026-01-14 22:33:05.739 +08:00 [DBG] POST requests are not supported
2026-01-14 22:33:05.789 +08:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.IntrospectionEndpoint for /connect/introspect
2026-01-14 22:33:05.810 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'IdentityServerConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: MigrationsAssembly=Skoruba.Duende.IdentityServer.Admin.EntityFramework.Configuration EngineType=SqlServer 
2026-01-14 22:33:05.819 +08:00 [DBG] Compiling query expression: 
'DbSet<ApiResource>()
    .Where(apiResource => __apiResourceNames_0
        .Contains(apiResource.Name))
    .Include(x => x.Secrets)
    .Include(x => x.Scopes)
    .Include(x => x.UserClaims)
    .Include(x => x.Properties)
    .AsNoTracking()'
2026-01-14 22:33:05.841 +08:00 [DBG] Including navigation: 'ApiResource.Secrets'.
2026-01-14 22:33:05.842 +08:00 [DBG] Including navigation: 'ApiResource.Scopes'.
2026-01-14 22:33:05.842 +08:00 [DBG] Including navigation: 'ApiResource.UserClaims'.
2026-01-14 22:33:05.843 +08:00 [DBG] Including navigation: 'ApiResource.Properties'.
2026-01-14 22:33:05.990 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApiResource>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ApiResource.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApiResource.AllowedAccessTokenSigningAlgorithms (string) MaxLength(100), 1], [Property: ApiResource.Created (DateTime) Required, 2], [Property: ApiResource.Description (string) MaxLength(1000), 3], [Property: ApiResource.DisplayName (string) MaxLength(200), 4], [Property: ApiResource.Enabled (bool) Required, 5], [Property: ApiResource.LastAccessed (DateTime?), 6], [Property: ApiResource.Name (string) Required Index MaxLength(200), 7], [Property: ApiResource.NonEditable (bool) Required, 8], [Property: ApiResource.RequireResourceIndicator (bool) Required, 9], [Property: ApiResource.ShowInDiscoveryDocument (bool) Required, 10], [Property: ApiResource.Updated (DateTime?), 11] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: ApiResourceSecret.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: ApiResourceSecret.ApiResourceId (int) Required FK Index, 13], [Property: ApiResourceSecret.Created (DateTime) Required, 14], [Property: ApiResourceSecret.Description (string) MaxLength(1000), 15], [Property: ApiResourceSecret.Expiration (DateTime?), 16], [Property: ApiResourceSecret.Type (string) Required MaxLength(250), 17], [Property: ApiResourceSecret.Value (string) Required MaxLength(4000), 18] }
            3 -> 12
            4 -> Dictionary<IProperty, int> { [Property: ApiResourceScope.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ApiResourceScope.ApiResourceId (int) Required FK Index, 20], [Property: ApiResourceScope.Scope (string) Required Index MaxLength(200), 21] }
            5 -> 19
            6 -> Dictionary<IProperty, int> { [Property: ApiResourceClaim.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ApiResourceClaim.ApiResourceId (int) Required FK Index, 23], [Property: ApiResourceClaim.Type (string) Required Index MaxLength(200), 24] }
            7 -> 22
            8 -> Dictionary<IProperty, int> { [Property: ApiResourceProperty.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: ApiResourceProperty.ApiResourceId (int) Required FK Index, 26], [Property: ApiResourceProperty.Key (string) Required Index MaxLength(250), 27], [Property: ApiResourceProperty.Value (string) Required MaxLength(2000), 28] }
            9 -> 25
        SELECT a.Id, a.AllowedAccessTokenSigningAlgorithms, a.Created, a.Description, a.DisplayName, a.Enabled, a.LastAccessed, a.Name, a.NonEditable, a.RequireResourceIndicator, a.ShowInDiscoveryDocument, a.Updated, a1.Id, a1.ApiResourceId, a1.Created, a1.Description, a1.Expiration, a1.Type, a1.Value, a2.Id, a2.ApiResourceId, a2.Scope, a3.Id, a3.ApiResourceId, a3.Type, a4.Id, a4.ApiResourceId, a4.Key, a4.Value
        FROM ApiResources AS a
        LEFT JOIN ApiResourceSecrets AS a1 ON a.Id == a1.ApiResourceId
        LEFT JOIN ApiResourceScopes AS a2 ON a.Id == a2.ApiResourceId
        LEFT JOIN ApiResourceClaims AS a3 ON a.Id == a3.ApiResourceId
        LEFT JOIN ApiResourceProperties AS a4 ON a.Id == a4.ApiResourceId
        WHERE a.Name IN (
            SELECT a0.value
            FROM OPENJSON(@__apiResourceNames_0) WITH (value nvarchar(200) '') AS a0)
        ORDER BY a.Id ASC, a1.Id ASC, a2.Id ASC, a3.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ApiResource.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApiResource.AllowedAccessTokenSigningAlgorithms (string) MaxLength(100), 1], [Property: ApiResource.Created (DateTime) Required, 2], [Property: ApiResource.Description (string) MaxLength(1000), 3], [Property: ApiResource.DisplayName (string) MaxLength(200), 4], [Property: ApiResource.Enabled (bool) Required, 5], [Property: ApiResource.LastAccessed (DateTime?), 6], [Property: ApiResource.Name (string) Required Index MaxLength(200), 7], [Property: ApiResource.NonEditable (bool) Required, 8], [Property: ApiResource.RequireResourceIndicator (bool) Required, 9], [Property: ApiResource.ShowInDiscoveryDocument (bool) Required, 10], [Property: ApiResource.Updated (DateTime?), 11] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: ApiResourceSecret.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: ApiResourceSecret.ApiResourceId (int) Required FK Index, 13], [Property: ApiResourceSecret.Created (DateTime) Required, 14], [Property: ApiResourceSecret.Description (string) MaxLength(1000), 15], [Property: ApiResourceSecret.Expiration (DateTime?), 16], [Property: ApiResourceSecret.Type (string) Required MaxLength(250), 17], [Property: ApiResourceSecret.Value (string) Required MaxLength(4000), 18] }
            3 -> 12
            4 -> Dictionary<IProperty, int> { [Property: ApiResourceScope.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ApiResourceScope.ApiResourceId (int) Required FK Index, 20], [Property: ApiResourceScope.Scope (string) Required Index MaxLength(200), 21] }
            5 -> 19
            6 -> Dictionary<IProperty, int> { [Property: ApiResourceClaim.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: ApiResourceClaim.ApiResourceId (int) Required FK Index, 23], [Property: ApiResourceClaim.Type (string) Required Index MaxLength(200), 24] }
            7 -> 22
            8 -> Dictionary<IProperty, int> { [Property: ApiResourceProperty.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: ApiResourceProperty.ApiResourceId (int) Required FK Index, 26], [Property: ApiResourceProperty.Key (string) Required Index MaxLength(250), 27], [Property: ApiResourceProperty.Value (string) Required MaxLength(2000), 28] }
            9 -> 25
        SELECT a.Id, a.AllowedAccessTokenSigningAlgorithms, a.Created, a.Description, a.DisplayName, a.Enabled, a.LastAccessed, a.Name, a.NonEditable, a.RequireResourceIndicator, a.ShowInDiscoveryDocument, a.Updated, a1.Id, a1.ApiResourceId, a1.Created, a1.Description, a1.Expiration, a1.Type, a1.Value, a2.Id, a2.ApiResourceId, a2.Scope, a3.Id, a3.ApiResourceId, a3.Type, a4.Id, a4.ApiResourceId, a4.Key, a4.Value
        FROM ApiResources AS a
        LEFT JOIN ApiResourceSecrets AS a1 ON a.Id == a1.ApiResourceId
        LEFT JOIN ApiResourceScopes AS a2 ON a.Id == a2.ApiResourceId
        LEFT JOIN ApiResourceClaims AS a3 ON a.Id == a3.ApiResourceId
        LEFT JOIN ApiResourceProperties AS a4 ON a.Id == a4.ApiResourceId
        WHERE a.Name IN (
            SELECT a0.value
            FROM OPENJSON(@__apiResourceNames_0) WITH (value nvarchar(200) '') AS a0)
        ORDER BY a.Id ASC, a1.Id ASC, a2.Id ASC, a3.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            ApiResource entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApiResource instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApiResource);
                (object)dataReader.GetInt32(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApiResource | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApiResource | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource")]: 
                            {
                                return 
                                {
                                    ApiResource instance;
                                    instance = new ApiResource();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<AllowedAccessTokenSigningAlgorithms>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<Created>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<DisplayName>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Enabled>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LastAccessed>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<Name>k__BackingField = dataReader.GetString(7);
                                    instance.<NonEditable>k__BackingField = dataReader.GetBoolean(8);
                                    instance.<RequireResourceIndicator>k__BackingField = dataReader.GetBoolean(9);
                                    instance.<ShowInDiscoveryDocument>k__BackingField = dataReader.GetBoolean(10);
                                    instance.<Updated>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApiResource | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApiResource)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetInt32(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: ApiResource | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: ApiResource.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<ApiResource, ApiResource>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (ApiResource)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                navigation: [LIFTABLE Constant: Navigation: ApiResource.Secrets (List<ApiResourceSecret>) Collection ToDependent ApiResourceSecret Inverse: ApiResource | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource").FindNavigation("Secrets")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<ApiResource, List<ApiResourceSecret>, ApiResourceSecret> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource").FindNavigation("Secrets").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<ApiResource, ApiResource>(
                collectionId: 1, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (ApiResource)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)dataReader.IsDBNull(12) ? default(int?) : (int?)dataReader.GetInt32(12) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: ApiResource.Scopes (List<ApiResourceScope>) Collection ToDependent ApiResourceScope Inverse: ApiResource | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource").FindNavigation("Scopes")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<ApiResource, List<ApiResourceScope>, ApiResourceScope> | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource").FindNavigation("Scopes").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<ApiResource, ApiResource>(
                collectionId: 2, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (ApiResource)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)dataReader.IsDBNull(12) ? default(int?) : (int?)dataReader.GetInt32(12), 
                    (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: ApiResource.UserClaims (List<ApiResourceClaim>) Collection ToDependent ApiResourceClaim Inverse: ApiResource | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource").FindNavigation("UserClaims")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<ApiResource, List<ApiResourceClaim>, ApiResourceClaim> | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource").FindNavigation("UserClaims").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<ApiResource, ApiResource>(
                collectionId: 3, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (ApiResource)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)dataReader.IsDBNull(12) ? default(int?) : (int?)dataReader.GetInt32(12), 
                    (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                    (object)dataReader.IsDBNull(22) ? default(int?) : (int?)dataReader.GetInt32(22) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: ApiResource.Properties (List<ApiResourceProperty>) Collection ToDependent ApiResourceProperty Inverse: ApiResource | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource").FindNavigation("Properties")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<ApiResource, List<ApiResourceProperty>, ApiResourceProperty> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource").FindNavigation("Properties").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<ApiResource, ApiResourceSecret>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(12) ? default(int?) : (int?)dataReader.GetInt32(12) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                ApiResourceSecret entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    ApiResourceSecret instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(ApiResourceSecret);
                    dataReader.IsDBNull(12) ? default(object) : (object)dataReader.GetInt32(12) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: ApiResourceSecret | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceSecret")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: ApiResourceSecret | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceSecret")]: 
                                {
                                    return 
                                    {
                                        ApiResourceSecret instance;
                                        instance = new ApiResourceSecret();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(12) ? default(int) : dataReader.GetInt32(12);
                                        instance.<ApiResourceId>k__BackingField = dataReader.IsDBNull(13) ? default(int) : dataReader.GetInt32(13);
                                        instance.<Created>k__BackingField = dataReader.IsDBNull(14) ? default(DateTime) : dataReader.GetDateTime(14);
                                        instance.<Description>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                        instance.<Expiration>k__BackingField = dataReader.IsDBNull(16) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(16);
                                        instance.<Type>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                        instance.<Value>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: ApiResourceSecret | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceSecret")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ApiResourceSecret)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: ApiResourceSecret.ApiResource (ApiResource) ToPrincipal ApiResource Inverse: Secrets | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceSecret").FindNavigation("ApiResource")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<ApiResource, List<ApiResourceSecret>, ApiResourceSecret> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource").FindNavigation("Secrets").GetCollectionAccessor()].Add(
                    entity: namelessParameter{16}, 
                    value: namelessParameter{17}, 
                    forMaterialization: True);
                return namelessParameter{17}.<ApiResource>k__BackingField = namelessParameter{16};
            }, 
            trackingQuery: False);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<ApiResource, ApiResourceScope>(
            collectionId: 1, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)dataReader.IsDBNull(12) ? default(int?) : (int?)dataReader.GetInt32(12) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                ApiResourceScope entity;
                entity = 
                {
                    MaterializationContext materializationContext3;
                    IEntityType entityType3;
                    ApiResourceScope instance3;
                    materializationContext3 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance3 = default(ApiResourceScope);
                    dataReader.IsDBNull(19) ? default(object) : (object)dataReader.GetInt32(19) != null ? 
                    {
                        ISnapshot shadowSnapshot3;
                        shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType3 = [LIFTABLE Constant: EntityType: ApiResourceScope | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceScope")];
                        instance3 = switch (entityType3)
                        {
                            case [LIFTABLE Constant: EntityType: ApiResourceScope | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceScope")]: 
                                {
                                    return 
                                    {
                                        ApiResourceScope instance;
                                        instance = new ApiResourceScope();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(19) ? default(int) : dataReader.GetInt32(19);
                                        instance.<ApiResourceId>k__BackingField = dataReader.IsDBNull(20) ? default(int) : dataReader.GetInt32(20);
                                        instance.<Scope>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext3.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: ApiResourceScope | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceScope")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ApiResourceScope)
                        }
                        ;
                        return instance3;
                    } : default(void);
                    return instance3;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: ApiResourceScope.ApiResource (ApiResource) ToPrincipal ApiResource Inverse: Scopes | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceScope").FindNavigation("ApiResource")], 
            fixup: (namelessParameter{23}, namelessParameter{24}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<ApiResource, List<ApiResourceScope>, ApiResourceScope> | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource").FindNavigation("Scopes").GetCollectionAccessor()].Add(
                    entity: namelessParameter{23}, 
                    value: namelessParameter{24}, 
                    forMaterialization: True);
                return namelessParameter{24}.<ApiResource>k__BackingField = namelessParameter{23};
            }, 
            trackingQuery: False);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<ApiResource, ApiResourceClaim>(
            collectionId: 2, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)dataReader.IsDBNull(12) ? default(int?) : (int?)dataReader.GetInt32(12), 
                (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(22) ? default(int?) : (int?)dataReader.GetInt32(22) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                ApiResourceClaim entity;
                entity = 
                {
                    MaterializationContext materializationContext4;
                    IEntityType entityType4;
                    ApiResourceClaim instance4;
                    materializationContext4 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance4 = default(ApiResourceClaim);
                    dataReader.IsDBNull(22) ? default(object) : (object)dataReader.GetInt32(22) != null ? 
                    {
                        ISnapshot shadowSnapshot4;
                        shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType4 = [LIFTABLE Constant: EntityType: ApiResourceClaim | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceClaim")];
                        instance4 = switch (entityType4)
                        {
                            case [LIFTABLE Constant: EntityType: ApiResourceClaim | Resolver: namelessParameter{27} => namelessParameter{27}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceClaim")]: 
                                {
                                    return 
                                    {
                                        ApiResourceClaim instance;
                                        instance = new ApiResourceClaim();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(22) ? default(int) : dataReader.GetInt32(22);
                                        instance.<ApiResourceId>k__BackingField = dataReader.IsDBNull(23) ? default(int) : dataReader.GetInt32(23);
                                        instance.<Type>k__BackingField = dataReader.IsDBNull(24) ? default(string) : dataReader.GetString(24);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext4.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: ApiResourceClaim | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceClaim")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ApiResourceClaim)
                        }
                        ;
                        return instance4;
                    } : default(void);
                    return instance4;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: ApiResourceClaim.ApiResource (ApiResource) ToPrincipal ApiResource Inverse: UserClaims | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceClaim").FindNavigation("ApiResource")], 
            fixup: (namelessParameter{30}, namelessParameter{31}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<ApiResource, List<ApiResourceClaim>, ApiResourceClaim> | Resolver: namelessParameter{32} => namelessParameter{32}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource").FindNavigation("UserClaims").GetCollectionAccessor()].Add(
                    entity: namelessParameter{30}, 
                    value: namelessParameter{31}, 
                    forMaterialization: True);
                return namelessParameter{31}.<ApiResource>k__BackingField = namelessParameter{30};
            }, 
            trackingQuery: False);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<ApiResource, ApiResourceProperty>(
            collectionId: 3, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)dataReader.IsDBNull(12) ? default(int?) : (int?)dataReader.GetInt32(12), 
                (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                (object)dataReader.IsDBNull(22) ? default(int?) : (int?)dataReader.GetInt32(22) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                ApiResourceProperty entity;
                entity = 
                {
                    MaterializationContext materializationContext5;
                    IEntityType entityType5;
                    ApiResourceProperty instance5;
                    materializationContext5 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance5 = default(ApiResourceProperty);
                    dataReader.IsDBNull(25) ? default(object) : (object)dataReader.GetInt32(25) != null ? 
                    {
                        ISnapshot shadowSnapshot5;
                        shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType5 = [LIFTABLE Constant: EntityType: ApiResourceProperty | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceProperty")];
                        instance5 = switch (entityType5)
                        {
                            case [LIFTABLE Constant: EntityType: ApiResourceProperty | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceProperty")]: 
                                {
                                    return 
                                    {
                                        ApiResourceProperty instance;
                                        instance = new ApiResourceProperty();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(25) ? default(int) : dataReader.GetInt32(25);
                                        instance.<ApiResourceId>k__BackingField = dataReader.IsDBNull(26) ? default(int) : dataReader.GetInt32(26);
                                        instance.<Key>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                        instance.<Value>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext5.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: ApiResourceProperty | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceProperty")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ApiResourceProperty)
                        }
                        ;
                        return instance5;
                    } : default(void);
                    return instance5;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: ApiResourceProperty.ApiResource (ApiResource) ToPrincipal ApiResource Inverse: Properties | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResourceProperty").FindNavigation("ApiResource")], 
            fixup: (namelessParameter{37}, namelessParameter{38}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<ApiResource, List<ApiResourceProperty>, ApiResourceProperty> | Resolver: namelessParameter{39} => namelessParameter{39}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ApiResource").FindNavigation("Properties").GetCollectionAccessor()].Add(
                    entity: namelessParameter{37}, 
                    value: namelessParameter{38}, 
                    forMaterialization: True);
                return namelessParameter{38}.<ApiResource>k__BackingField = namelessParameter{37};
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (ApiResource)(resultContext.Values[0]) : default(ApiResource);
    }, 
    contextType: Skoruba.Duende.IdentityServer.Admin.EntityFramework.Shared.DbContexts.IdentityServerConfigurationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-01-14 22:33:06.010 +08:00 [DBG] Creating DbConnection.
2026-01-14 22:33:06.011 +08:00 [DBG] Created DbConnection. (0ms).
2026-01-14 22:33:06.012 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.013 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.013 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.013 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.018 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-01-14 22:33:06.020 +08:00 [DBG] Executing DbCommand [Parameters=[@__apiResourceNames_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[RequireResourceIndicator], [a].[ShowInDiscoveryDocument], [a].[Updated], [a1].[Id], [a1].[ApiResourceId], [a1].[Created], [a1].[Description], [a1].[Expiration], [a1].[Type], [a1].[Value], [a2].[Id], [a2].[ApiResourceId], [a2].[Scope], [a3].[Id], [a3].[ApiResourceId], [a3].[Type], [a4].[Id], [a4].[ApiResourceId], [a4].[Key], [a4].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a4] ON [a].[Id] = [a4].[ApiResourceId]
WHERE [a].[Name] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__apiResourceNames_0) WITH ([value] nvarchar(200) '$') AS [a0]
)
ORDER BY [a].[Id], [a1].[Id], [a2].[Id], [a3].[Id]
2026-01-14 22:33:06.035 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[@__apiResourceNames_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[RequireResourceIndicator], [a].[ShowInDiscoveryDocument], [a].[Updated], [a1].[Id], [a1].[ApiResourceId], [a1].[Created], [a1].[Description], [a1].[Expiration], [a1].[Type], [a1].[Value], [a2].[Id], [a2].[ApiResourceId], [a2].[Scope], [a3].[Id], [a3].[ApiResourceId], [a3].[Type], [a4].[Id], [a4].[ApiResourceId], [a4].[Key], [a4].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a4] ON [a].[Id] = [a4].[ApiResourceId]
WHERE [a].[Name] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__apiResourceNames_0) WITH ([value] nvarchar(200) '$') AS [a0]
)
ORDER BY [a].[Id], [a1].[Id], [a2].[Id], [a3].[Id]
2026-01-14 22:33:06.042 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.043 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 7ms reading results.
2026-01-14 22:33:06.045 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.045 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:06.053 +08:00 [INF] {"ApiName":"riskcontrolsystemweb","Category":"Authentication","Name":"API Authentication Failure","EventType":"Failure","Id":1021,"Message":"Unknown API resource","ActivityId":"800163d6-0002-f600-b63f-84710c7967bb","TimeStamp":"2026-01-14T14:33:06.0490849","ProcessId":10908,"LocalIpAddress":"172.16.68.16:443","RemoteIpAddress":"172.16.8.121","$type":"ApiAuthenticationFailureEvent"}
2026-01-14 22:33:06.054 +08:00 [ERR] No API resource with that name found. aborting
2026-01-14 22:33:06.062 +08:00 [DBG] Compiling query expression: 
'DbSet<Client>()
    .Where(x => x.ClientId == __clientId_0)
    .Include(x => x.AllowedCorsOrigins)
    .Include(x => x.AllowedGrantTypes)
    .Include(x => x.AllowedScopes)
    .Include(x => x.Claims)
    .Include(x => x.ClientSecrets)
    .Include(x => x.IdentityProviderRestrictions)
    .Include(x => x.PostLogoutRedirectUris)
    .Include(x => x.Properties)
    .Include(x => x.RedirectUris)
    .AsNoTracking()
    .AsSplitQuery()'
2026-01-14 22:33:06.063 +08:00 [DBG] Including navigation: 'Client.AllowedCorsOrigins'.
2026-01-14 22:33:06.064 +08:00 [DBG] Including navigation: 'Client.AllowedGrantTypes'.
2026-01-14 22:33:06.064 +08:00 [DBG] Including navigation: 'Client.AllowedScopes'.
2026-01-14 22:33:06.064 +08:00 [DBG] Including navigation: 'Client.Claims'.
2026-01-14 22:33:06.064 +08:00 [DBG] Including navigation: 'Client.ClientSecrets'.
2026-01-14 22:33:06.065 +08:00 [DBG] Including navigation: 'Client.IdentityProviderRestrictions'.
2026-01-14 22:33:06.065 +08:00 [DBG] Including navigation: 'Client.PostLogoutRedirectUris'.
2026-01-14 22:33:06.065 +08:00 [DBG] Including navigation: 'Client.Properties'.
2026-01-14 22:33:06.066 +08:00 [DBG] Including navigation: 'Client.RedirectUris'.
2026-01-14 22:33:06.140 +08:00 [DBG] Generated query execution expression: 
'queryContext => SplitQueryingEnumerable.Create<Client>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Client.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Client.AbsoluteRefreshTokenLifetime (int) Required, 1], [Property: Client.AccessTokenLifetime (int) Required, 2], [Property: Client.AccessTokenType (int) Required, 3], [Property: Client.AllowAccessTokensViaBrowser (bool) Required, 4], [Property: Client.AllowOfflineAccess (bool) Required, 5], [Property: Client.AllowPlainTextPkce (bool) Required, 6], [Property: Client.AllowRememberConsent (bool) Required, 7], [Property: Client.AllowedIdentityTokenSigningAlgorithms (string) MaxLength(100), 8], [Property: Client.AlwaysIncludeUserClaimsInIdToken (bool) Required, 9], [Property: Client.AlwaysSendClientClaims (bool) Required, 10], [Property: Client.AuthorizationCodeLifetime (int) Required, 11], [Property: Client.BackChannelLogoutSessionRequired (bool) Required, 12], [Property: Client.BackChannelLogoutUri (string) MaxLength(2000), 13], [Property: Client.CibaLifetime (int?), 14], [Property: Client.ClientClaimsPrefix (string) MaxLength(200), 15], [Property: Client.ClientId (string) Required Index MaxLength(200), 16], [Property: Client.ClientName (string) MaxLength(200), 17], [Property: Client.ClientUri (string) MaxLength(2000), 18], [Property: Client.ConsentLifetime (int?), 19], [Property: Client.CoordinateLifetimeWithUserSession (bool?), 20], [Property: Client.Created (DateTime) Required, 21], [Property: Client.DPoPClockSkew (TimeSpan) Required, 22], [Property: Client.DPoPValidationMode (DPoPTokenExpirationValidationMode) Required, 23], [Property: Client.Description (string) MaxLength(1000), 24], [Property: Client.DeviceCodeLifetime (int) Required, 25], [Property: Client.EnableLocalLogin (bool) Required, 26], [Property: Client.Enabled (bool) Required, 27], [Property: Client.FrontChannelLogoutSessionRequired (bool) Required, 28], [Property: Client.FrontChannelLogoutUri (string) MaxLength(2000), 29], [Property: Client.IdentityTokenLifetime (int) Required, 30], [Property: Client.IncludeJwtId (bool) Required, 31], [Property: Client.InitiateLoginUri (string) MaxLength(2000), 32], [Property: Client.LastAccessed (DateTime?), 33], [Property: Client.LogoUri (string) MaxLength(2000), 34], [Property: Client.NonEditable (bool) Required, 35], [Property: Client.PairWiseSubjectSalt (string) MaxLength(200), 36], [Property: Client.PollingInterval (int?), 37], [Property: Client.ProtocolType (string) Required MaxLength(200), 38], [Property: Client.PushedAuthorizationLifetime (int?), 39], [Property: Client.RefreshTokenExpiration (int) Required, 40], [Property: Client.RefreshTokenUsage (int) Required, 41], [Property: Client.RequireClientSecret (bool) Required, 42], [Property: Client.RequireConsent (bool) Required, 43], [Property: Client.RequireDPoP (bool) Required, 44], [Property: Client.RequirePkce (bool) Required, 45], [Property: Client.RequirePushedAuthorization (bool) Required, 46], [Property: Client.RequireRequestObject (bool) Required, 47], [Property: Client.SlidingRefreshTokenLifetime (int) Required, 48], [Property: Client.UpdateAccessTokenClaimsOnRefresh (bool) Required, 49], [Property: Client.Updated (DateTime?), 50], [Property: Client.UserCodeType (string) MaxLength(100), 51], [Property: Client.UserSsoLifetime (int?), 52] }
            1 -> 0
        SELECT c.Id, c.AbsoluteRefreshTokenLifetime, c.AccessTokenLifetime, c.AccessTokenType, c.AllowAccessTokensViaBrowser, c.AllowOfflineAccess, c.AllowPlainTextPkce, c.AllowRememberConsent, c.AllowedIdentityTokenSigningAlgorithms, c.AlwaysIncludeUserClaimsInIdToken, c.AlwaysSendClientClaims, c.AuthorizationCodeLifetime, c.BackChannelLogoutSessionRequired, c.BackChannelLogoutUri, c.CibaLifetime, c.ClientClaimsPrefix, c.ClientId, c.ClientName, c.ClientUri, c.ConsentLifetime, c.CoordinateLifetimeWithUserSession, c.Created, c.DPoPClockSkew, c.DPoPValidationMode, c.Description, c.DeviceCodeLifetime, c.EnableLocalLogin, c.Enabled, c.FrontChannelLogoutSessionRequired, c.FrontChannelLogoutUri, c.IdentityTokenLifetime, c.IncludeJwtId, c.InitiateLoginUri, c.LastAccessed, c.LogoUri, c.NonEditable, c.PairWiseSubjectSalt, c.PollingInterval, c.ProtocolType, c.PushedAuthorizationLifetime, c.RefreshTokenExpiration, c.RefreshTokenUsage, c.RequireClientSecret, c.RequireConsent, c.RequireDPoP, c.RequirePkce, c.RequirePushedAuthorization, c.RequireRequestObject, c.SlidingRefreshTokenLifetime, c.UpdateAccessTokenClaimsOnRefresh, c.Updated, c.UserCodeType, c.UserSsoLifetime
        FROM Clients AS c
        WHERE c.ClientId == @__clientId_0
        ORDER BY c.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Client.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Client.AbsoluteRefreshTokenLifetime (int) Required, 1], [Property: Client.AccessTokenLifetime (int) Required, 2], [Property: Client.AccessTokenType (int) Required, 3], [Property: Client.AllowAccessTokensViaBrowser (bool) Required, 4], [Property: Client.AllowOfflineAccess (bool) Required, 5], [Property: Client.AllowPlainTextPkce (bool) Required, 6], [Property: Client.AllowRememberConsent (bool) Required, 7], [Property: Client.AllowedIdentityTokenSigningAlgorithms (string) MaxLength(100), 8], [Property: Client.AlwaysIncludeUserClaimsInIdToken (bool) Required, 9], [Property: Client.AlwaysSendClientClaims (bool) Required, 10], [Property: Client.AuthorizationCodeLifetime (int) Required, 11], [Property: Client.BackChannelLogoutSessionRequired (bool) Required, 12], [Property: Client.BackChannelLogoutUri (string) MaxLength(2000), 13], [Property: Client.CibaLifetime (int?), 14], [Property: Client.ClientClaimsPrefix (string) MaxLength(200), 15], [Property: Client.ClientId (string) Required Index MaxLength(200), 16], [Property: Client.ClientName (string) MaxLength(200), 17], [Property: Client.ClientUri (string) MaxLength(2000), 18], [Property: Client.ConsentLifetime (int?), 19], [Property: Client.CoordinateLifetimeWithUserSession (bool?), 20], [Property: Client.Created (DateTime) Required, 21], [Property: Client.DPoPClockSkew (TimeSpan) Required, 22], [Property: Client.DPoPValidationMode (DPoPTokenExpirationValidationMode) Required, 23], [Property: Client.Description (string) MaxLength(1000), 24], [Property: Client.DeviceCodeLifetime (int) Required, 25], [Property: Client.EnableLocalLogin (bool) Required, 26], [Property: Client.Enabled (bool) Required, 27], [Property: Client.FrontChannelLogoutSessionRequired (bool) Required, 28], [Property: Client.FrontChannelLogoutUri (string) MaxLength(2000), 29], [Property: Client.IdentityTokenLifetime (int) Required, 30], [Property: Client.IncludeJwtId (bool) Required, 31], [Property: Client.InitiateLoginUri (string) MaxLength(2000), 32], [Property: Client.LastAccessed (DateTime?), 33], [Property: Client.LogoUri (string) MaxLength(2000), 34], [Property: Client.NonEditable (bool) Required, 35], [Property: Client.PairWiseSubjectSalt (string) MaxLength(200), 36], [Property: Client.PollingInterval (int?), 37], [Property: Client.ProtocolType (string) Required MaxLength(200), 38], [Property: Client.PushedAuthorizationLifetime (int?), 39], [Property: Client.RefreshTokenExpiration (int) Required, 40], [Property: Client.RefreshTokenUsage (int) Required, 41], [Property: Client.RequireClientSecret (bool) Required, 42], [Property: Client.RequireConsent (bool) Required, 43], [Property: Client.RequireDPoP (bool) Required, 44], [Property: Client.RequirePkce (bool) Required, 45], [Property: Client.RequirePushedAuthorization (bool) Required, 46], [Property: Client.RequireRequestObject (bool) Required, 47], [Property: Client.SlidingRefreshTokenLifetime (int) Required, 48], [Property: Client.UpdateAccessTokenClaimsOnRefresh (bool) Required, 49], [Property: Client.Updated (DateTime?), 50], [Property: Client.UserCodeType (string) MaxLength(100), 51], [Property: Client.UserSsoLifetime (int?), 52] }
            1 -> 0
        SELECT c.Id, c.AbsoluteRefreshTokenLifetime, c.AccessTokenLifetime, c.AccessTokenType, c.AllowAccessTokensViaBrowser, c.AllowOfflineAccess, c.AllowPlainTextPkce, c.AllowRememberConsent, c.AllowedIdentityTokenSigningAlgorithms, c.AlwaysIncludeUserClaimsInIdToken, c.AlwaysSendClientClaims, c.AuthorizationCodeLifetime, c.BackChannelLogoutSessionRequired, c.BackChannelLogoutUri, c.CibaLifetime, c.ClientClaimsPrefix, c.ClientId, c.ClientName, c.ClientUri, c.ConsentLifetime, c.CoordinateLifetimeWithUserSession, c.Created, c.DPoPClockSkew, c.DPoPValidationMode, c.Description, c.DeviceCodeLifetime, c.EnableLocalLogin, c.Enabled, c.FrontChannelLogoutSessionRequired, c.FrontChannelLogoutUri, c.IdentityTokenLifetime, c.IncludeJwtId, c.InitiateLoginUri, c.LastAccessed, c.LogoUri, c.NonEditable, c.PairWiseSubjectSalt, c.PollingInterval, c.ProtocolType, c.PushedAuthorizationLifetime, c.RefreshTokenExpiration, c.RefreshTokenUsage, c.RequireClientSecret, c.RequireConsent, c.RequireDPoP, c.RequirePkce, c.RequirePushedAuthorization, c.RequireRequestObject, c.SlidingRefreshTokenLifetime, c.UpdateAccessTokenClaimsOnRefresh, c.Updated, c.UserCodeType, c.UserSsoLifetime
        FROM Clients AS c
        WHERE c.ClientId == @__clientId_0
        ORDER BY c.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => resultContext.Values == null ? 
    {
        Client entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Client instance1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Client);
            (object)dataReader.GetInt32(0) != null ? 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Client | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Client | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client")]: 
                        {
                            return 
                            {
                                Client instance;
                                instance = new Client();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<AbsoluteRefreshTokenLifetime>k__BackingField = dataReader.GetInt32(1);
                                instance.<AccessTokenLifetime>k__BackingField = dataReader.GetInt32(2);
                                instance.<AccessTokenType>k__BackingField = dataReader.GetInt32(3);
                                instance.<AllowAccessTokensViaBrowser>k__BackingField = dataReader.GetBoolean(4);
                                instance.<AllowOfflineAccess>k__BackingField = dataReader.GetBoolean(5);
                                instance.<AllowPlainTextPkce>k__BackingField = dataReader.GetBoolean(6);
                                instance.<AllowRememberConsent>k__BackingField = dataReader.GetBoolean(7);
                                instance.<AllowedIdentityTokenSigningAlgorithms>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<AlwaysIncludeUserClaimsInIdToken>k__BackingField = dataReader.GetBoolean(9);
                                instance.<AlwaysSendClientClaims>k__BackingField = dataReader.GetBoolean(10);
                                instance.<AuthorizationCodeLifetime>k__BackingField = dataReader.GetInt32(11);
                                instance.<BackChannelLogoutSessionRequired>k__BackingField = dataReader.GetBoolean(12);
                                instance.<BackChannelLogoutUri>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                instance.<CibaLifetime>k__BackingField = dataReader.IsDBNull(14) ? default(int?) : (int?)dataReader.GetInt32(14);
                                instance.<ClientClaimsPrefix>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                instance.<ClientId>k__BackingField = dataReader.GetString(16);
                                instance.<ClientName>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<ClientUri>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                instance.<ConsentLifetime>k__BackingField = dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19);
                                instance.<CoordinateLifetimeWithUserSession>k__BackingField = dataReader.IsDBNull(20) ? default(bool?) : (bool?)dataReader.GetBoolean(20);
                                instance.<Created>k__BackingField = dataReader.GetDateTime(21);
                                instance.<DPoPClockSkew>k__BackingField = dataReader.GetFieldValue<TimeSpan>(22);
                                instance.<DPoPValidationMode>k__BackingField = Invoke(((EnumToNumberConverter<DPoPTokenExpirationValidationMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Client.DPoPValidationMode (DPoPTokenExpirationValidationMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindProperty("DPoPValidationMode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(23));
                                instance.<Description>k__BackingField = dataReader.IsDBNull(24) ? default(string) : dataReader.GetString(24);
                                instance.<DeviceCodeLifetime>k__BackingField = dataReader.GetInt32(25);
                                instance.<EnableLocalLogin>k__BackingField = dataReader.GetBoolean(26);
                                instance.<Enabled>k__BackingField = dataReader.GetBoolean(27);
                                instance.<FrontChannelLogoutSessionRequired>k__BackingField = dataReader.GetBoolean(28);
                                instance.<FrontChannelLogoutUri>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                instance.<IdentityTokenLifetime>k__BackingField = dataReader.GetInt32(30);
                                instance.<IncludeJwtId>k__BackingField = dataReader.GetBoolean(31);
                                instance.<InitiateLoginUri>k__BackingField = dataReader.IsDBNull(32) ? default(string) : dataReader.GetString(32);
                                instance.<LastAccessed>k__BackingField = dataReader.IsDBNull(33) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(33);
                                instance.<LogoUri>k__BackingField = dataReader.IsDBNull(34) ? default(string) : dataReader.GetString(34);
                                instance.<NonEditable>k__BackingField = dataReader.GetBoolean(35);
                                instance.<PairWiseSubjectSalt>k__BackingField = dataReader.IsDBNull(36) ? default(string) : dataReader.GetString(36);
                                instance.<PollingInterval>k__BackingField = dataReader.IsDBNull(37) ? default(int?) : (int?)dataReader.GetInt32(37);
                                instance.<ProtocolType>k__BackingField = dataReader.GetString(38);
                                instance.<PushedAuthorizationLifetime>k__BackingField = dataReader.IsDBNull(39) ? default(int?) : (int?)dataReader.GetInt32(39);
                                instance.<RefreshTokenExpiration>k__BackingField = dataReader.GetInt32(40);
                                instance.<RefreshTokenUsage>k__BackingField = dataReader.GetInt32(41);
                                instance.<RequireClientSecret>k__BackingField = dataReader.GetBoolean(42);
                                instance.<RequireConsent>k__BackingField = dataReader.GetBoolean(43);
                                instance.<RequireDPoP>k__BackingField = dataReader.GetBoolean(44);
                                instance.<RequirePkce>k__BackingField = dataReader.GetBoolean(45);
                                instance.<RequirePushedAuthorization>k__BackingField = dataReader.GetBoolean(46);
                                instance.<RequireRequestObject>k__BackingField = dataReader.GetBoolean(47);
                                instance.<SlidingRefreshTokenLifetime>k__BackingField = dataReader.GetInt32(48);
                                instance.<UpdateAccessTokenClaimsOnRefresh>k__BackingField = dataReader.GetBoolean(49);
                                instance.<Updated>k__BackingField = dataReader.IsDBNull(50) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(50);
                                instance.<UserCodeType>k__BackingField = dataReader.IsDBNull(51) ? default(string) : dataReader.GetString(51);
                                instance.<UserSsoLifetime>k__BackingField = dataReader.IsDBNull(52) ? default(int?) : (int?)dataReader.GetInt32(52);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: Client | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Client)
                }
                ;
                return instance1;
            } : 
            {
                object[] keyValues1;
                keyValues1 = new object[]{ (object)dataReader.GetInt32(0) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: Client | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Client.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindPrimaryKey().Properties], 
                    keyValues: keyValues1);
            };
            return instance1;
        };
        resultContext.Values = new object[]{ entity };
        ShaperProcessingExpressionVisitor.InitializeSplitIncludeCollection<Client, Client>(
            collectionId: 0, 
            queryContext: queryContext, 
            parentDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            entity: (Client)(resultContext.Values[0]), 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            navigation: [LIFTABLE Constant: Navigation: Client.AllowedCorsOrigins (List<ClientCorsOrigin>) Collection ToDependent ClientCorsOrigin Inverse: Client | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("AllowedCorsOrigins")], 
            clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientCorsOrigin>, ClientCorsOrigin> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("AllowedCorsOrigins").GetCollectionAccessor()], 
            trackingQuery: False, 
            setLoaded: True);
        ShaperProcessingExpressionVisitor.InitializeSplitIncludeCollection<Client, Client>(
            collectionId: 1, 
            queryContext: queryContext, 
            parentDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            entity: (Client)(resultContext.Values[0]), 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            navigation: [LIFTABLE Constant: Navigation: Client.AllowedGrantTypes (List<ClientGrantType>) Collection ToDependent ClientGrantType Inverse: Client | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("AllowedGrantTypes")], 
            clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientGrantType>, ClientGrantType> | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("AllowedGrantTypes").GetCollectionAccessor()], 
            trackingQuery: False, 
            setLoaded: True);
        ShaperProcessingExpressionVisitor.InitializeSplitIncludeCollection<Client, Client>(
            collectionId: 2, 
            queryContext: queryContext, 
            parentDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            entity: (Client)(resultContext.Values[0]), 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            navigation: [LIFTABLE Constant: Navigation: Client.AllowedScopes (List<ClientScope>) Collection ToDependent ClientScope Inverse: Client | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("AllowedScopes")], 
            clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientScope>, ClientScope> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("AllowedScopes").GetCollectionAccessor()], 
            trackingQuery: False, 
            setLoaded: True);
        ShaperProcessingExpressionVisitor.InitializeSplitIncludeCollection<Client, Client>(
            collectionId: 3, 
            queryContext: queryContext, 
            parentDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            entity: (Client)(resultContext.Values[0]), 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            navigation: [LIFTABLE Constant: Navigation: Client.Claims (List<ClientClaim>) Collection ToDependent ClientClaim Inverse: Client | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("Claims")], 
            clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientClaim>, ClientClaim> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("Claims").GetCollectionAccessor()], 
            trackingQuery: False, 
            setLoaded: True);
        ShaperProcessingExpressionVisitor.InitializeSplitIncludeCollection<Client, Client>(
            collectionId: 4, 
            queryContext: queryContext, 
            parentDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            entity: (Client)(resultContext.Values[0]), 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            navigation: [LIFTABLE Constant: Navigation: Client.ClientSecrets (List<ClientSecret>) Collection ToDependent ClientSecret Inverse: Client | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("ClientSecrets")], 
            clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientSecret>, ClientSecret> | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("ClientSecrets").GetCollectionAccessor()], 
            trackingQuery: False, 
            setLoaded: True);
        ShaperProcessingExpressionVisitor.InitializeSplitIncludeCollection<Client, Client>(
            collectionId: 5, 
            queryContext: queryContext, 
            parentDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            entity: (Client)(resultContext.Values[0]), 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            navigation: [LIFTABLE Constant: Navigation: Client.IdentityProviderRestrictions (List<ClientIdPRestriction>) Collection ToDependent ClientIdPRestriction Inverse: Client | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("IdentityProviderRestrictions")], 
            clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientIdPRestriction>, ClientIdPRestriction> | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("IdentityProviderRestrictions").GetCollectionAccessor()], 
            trackingQuery: False, 
            setLoaded: True);
        ShaperProcessingExpressionVisitor.InitializeSplitIncludeCollection<Client, Client>(
            collectionId: 6, 
            queryContext: queryContext, 
            parentDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            entity: (Client)(resultContext.Values[0]), 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            navigation: [LIFTABLE Constant: Navigation: Client.PostLogoutRedirectUris (List<ClientPostLogoutRedirectUri>) Collection ToDependent ClientPostLogoutRedirectUri Inverse: Client | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("PostLogoutRedirectUris")], 
            clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientPostLogoutRedirectUri>, ClientPostLogoutRedirectUri> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("PostLogoutRedirectUris").GetCollectionAccessor()], 
            trackingQuery: False, 
            setLoaded: True);
        ShaperProcessingExpressionVisitor.InitializeSplitIncludeCollection<Client, Client>(
            collectionId: 7, 
            queryContext: queryContext, 
            parentDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            entity: (Client)(resultContext.Values[0]), 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            navigation: [LIFTABLE Constant: Navigation: Client.Properties (List<ClientProperty>) Collection ToDependent ClientProperty Inverse: Client | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("Properties")], 
            clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientProperty>, ClientProperty> | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("Properties").GetCollectionAccessor()], 
            trackingQuery: False, 
            setLoaded: True);
        ShaperProcessingExpressionVisitor.InitializeSplitIncludeCollection<Client, Client>(
            collectionId: 8, 
            queryContext: queryContext, 
            parentDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            entity: (Client)(resultContext.Values[0]), 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            navigation: [LIFTABLE Constant: Navigation: Client.RedirectUris (List<ClientRedirectUri>) Collection ToDependent ClientRedirectUri Inverse: Client | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("RedirectUris")], 
            clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientRedirectUri>, ClientRedirectUri> | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("RedirectUris").GetCollectionAccessor()], 
            trackingQuery: False, 
            setLoaded: True);
        return } : (Client)(resultContext.Values[0]), 
    relatedDataLoaders: null, 
    relatedDataLoadersAsync: (queryContext, executionStrategy, resultCoordinator) => ShaperProcessingExpressionVisitor.TaskAwaiter(new Func<Task>[]
    { 
        () => ShaperProcessingExpressionVisitor.PopulateSplitIncludeCollectionAsync<Client, ClientCorsOrigin>(
            collectionId: 0, 
            queryContext: (RelationalQueryContext)queryContext, 
            executionStrategy: executionStrategy, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientCorsOrigin.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientCorsOrigin.ClientId (int) Required FK Index, 1], [Property: ClientCorsOrigin.Origin (string) Required Index MaxLength(150), 2] }
                    1 -> 3
                SELECT c0.Id, c0.ClientId, c0.Origin, c.Id
                FROM Clients AS c
                INNER JOIN ClientCorsOrigins AS c0 ON c.Id == c0.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientCorsOrigin.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientCorsOrigin.ClientId (int) Required FK Index, 1], [Property: ClientCorsOrigin.Origin (string) Required Index MaxLength(150), 2] }
                    1 -> 3
                SELECT c0.Id, c0.ClientId, c0.Origin, c.Id
                FROM Clients AS c
                INNER JOIN ClientCorsOrigins AS c0 ON c.Id == c0.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            detailedErrorsEnabled: False, 
            resultCoordinator: resultCoordinator, 
            childIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(3) }], 
            identifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                ClientCorsOrigin entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    ClientCorsOrigin instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(ClientCorsOrigin);
                    (object)dataReader.GetInt32(0) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: ClientCorsOrigin | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientCorsOrigin")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: ClientCorsOrigin | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientCorsOrigin")]: 
                                {
                                    return 
                                    {
                                        ClientCorsOrigin instance;
                                        instance = new ClientCorsOrigin();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<ClientId>k__BackingField = dataReader.GetInt32(1);
                                        instance.<Origin>k__BackingField = dataReader.GetString(2);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: ClientCorsOrigin | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientCorsOrigin")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ClientCorsOrigin)
                        }
                        ;
                        return instance2;
                    } : 
                    {
                        object[] keyValues2;
                        keyValues2 = new object[]{ (object)dataReader.GetInt32(0) };
                        return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                            entityType: [LIFTABLE Constant: EntityType: ClientCorsOrigin | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientCorsOrigin")], 
                            properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: ClientCorsOrigin.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientCorsOrigin").FindPrimaryKey().Properties], 
                            keyValues: keyValues2);
                    };
                    return instance2;
                };
                return entity;
            }, 
            relatedDataLoaders: null, 
            inverseNavigation: [LIFTABLE Constant: Navigation: ClientCorsOrigin.Client (Client) ToPrincipal Client Inverse: AllowedCorsOrigins | Resolver: namelessParameter{27} => namelessParameter{27}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientCorsOrigin").FindNavigation("Client")], 
            fixup: (namelessParameter{28}, namelessParameter{29}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientCorsOrigin>, ClientCorsOrigin> | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("AllowedCorsOrigins").GetCollectionAccessor()].Add(
                    entity: namelessParameter{28}, 
                    value: namelessParameter{29}, 
                    forMaterialization: True);
                return namelessParameter{29}.<Client>k__BackingField = namelessParameter{28};
            }, 
            trackingQuery: False), 
        () => ShaperProcessingExpressionVisitor.PopulateSplitIncludeCollectionAsync<Client, ClientGrantType>(
            collectionId: 1, 
            queryContext: (RelationalQueryContext)queryContext, 
            executionStrategy: executionStrategy, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientGrantType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientGrantType.ClientId (int) Required FK Index, 1], [Property: ClientGrantType.GrantType (string) Required Index MaxLength(250), 2] }
                    1 -> 3
                SELECT c1.Id, c1.ClientId, c1.GrantType, c.Id
                FROM Clients AS c
                INNER JOIN ClientGrantTypes AS c1 ON c.Id == c1.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientGrantType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientGrantType.ClientId (int) Required FK Index, 1], [Property: ClientGrantType.GrantType (string) Required Index MaxLength(250), 2] }
                    1 -> 3
                SELECT c1.Id, c1.ClientId, c1.GrantType, c.Id
                FROM Clients AS c
                INNER JOIN ClientGrantTypes AS c1 ON c.Id == c1.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            detailedErrorsEnabled: False, 
            resultCoordinator: resultCoordinator, 
            childIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(3) }], 
            identifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                ClientGrantType entity;
                entity = 
                {
                    MaterializationContext materializationContext3;
                    IEntityType entityType3;
                    ClientGrantType instance3;
                    materializationContext3 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance3 = default(ClientGrantType);
                    (object)dataReader.GetInt32(0) != null ? 
                    {
                        ISnapshot shadowSnapshot3;
                        shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType3 = [LIFTABLE Constant: EntityType: ClientGrantType | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientGrantType")];
                        instance3 = switch (entityType3)
                        {
                            case [LIFTABLE Constant: EntityType: ClientGrantType | Resolver: namelessParameter{32} => namelessParameter{32}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientGrantType")]: 
                                {
                                    return 
                                    {
                                        ClientGrantType instance;
                                        instance = new ClientGrantType();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<ClientId>k__BackingField = dataReader.GetInt32(1);
                                        instance.<GrantType>k__BackingField = dataReader.GetString(2);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext3.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: ClientGrantType | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientGrantType")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ClientGrantType)
                        }
                        ;
                        return instance3;
                    } : 
                    {
                        object[] keyValues3;
                        keyValues3 = new object[]{ (object)dataReader.GetInt32(0) };
                        return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                            entityType: [LIFTABLE Constant: EntityType: ClientGrantType | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientGrantType")], 
                            properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: ClientGrantType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientGrantType").FindPrimaryKey().Properties], 
                            keyValues: keyValues3);
                    };
                    return instance3;
                };
                return entity;
            }, 
            relatedDataLoaders: null, 
            inverseNavigation: [LIFTABLE Constant: Navigation: ClientGrantType.Client (Client) ToPrincipal Client Inverse: AllowedGrantTypes | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientGrantType").FindNavigation("Client")], 
            fixup: (namelessParameter{36}, namelessParameter{37}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientGrantType>, ClientGrantType> | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("AllowedGrantTypes").GetCollectionAccessor()].Add(
                    entity: namelessParameter{36}, 
                    value: namelessParameter{37}, 
                    forMaterialization: True);
                return namelessParameter{37}.<Client>k__BackingField = namelessParameter{36};
            }, 
            trackingQuery: False), 
        () => ShaperProcessingExpressionVisitor.PopulateSplitIncludeCollectionAsync<Client, ClientScope>(
            collectionId: 2, 
            queryContext: (RelationalQueryContext)queryContext, 
            executionStrategy: executionStrategy, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientScope.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientScope.ClientId (int) Required FK Index, 1], [Property: ClientScope.Scope (string) Required Index MaxLength(200), 2] }
                    1 -> 3
                SELECT c2.Id, c2.ClientId, c2.Scope, c.Id
                FROM Clients AS c
                INNER JOIN ClientScopes AS c2 ON c.Id == c2.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientScope.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientScope.ClientId (int) Required FK Index, 1], [Property: ClientScope.Scope (string) Required Index MaxLength(200), 2] }
                    1 -> 3
                SELECT c2.Id, c2.ClientId, c2.Scope, c.Id
                FROM Clients AS c
                INNER JOIN ClientScopes AS c2 ON c.Id == c2.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            detailedErrorsEnabled: False, 
            resultCoordinator: resultCoordinator, 
            childIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(3) }], 
            identifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                ClientScope entity;
                entity = 
                {
                    MaterializationContext materializationContext4;
                    IEntityType entityType4;
                    ClientScope instance4;
                    materializationContext4 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance4 = default(ClientScope);
                    (object)dataReader.GetInt32(0) != null ? 
                    {
                        ISnapshot shadowSnapshot4;
                        shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType4 = [LIFTABLE Constant: EntityType: ClientScope | Resolver: namelessParameter{39} => namelessParameter{39}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientScope")];
                        instance4 = switch (entityType4)
                        {
                            case [LIFTABLE Constant: EntityType: ClientScope | Resolver: namelessParameter{40} => namelessParameter{40}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientScope")]: 
                                {
                                    return 
                                    {
                                        ClientScope instance;
                                        instance = new ClientScope();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<ClientId>k__BackingField = dataReader.GetInt32(1);
                                        instance.<Scope>k__BackingField = dataReader.GetString(2);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext4.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: ClientScope | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientScope")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ClientScope)
                        }
                        ;
                        return instance4;
                    } : 
                    {
                        object[] keyValues4;
                        keyValues4 = new object[]{ (object)dataReader.GetInt32(0) };
                        return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                            entityType: [LIFTABLE Constant: EntityType: ClientScope | Resolver: namelessParameter{42} => namelessParameter{42}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientScope")], 
                            properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: ClientScope.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientScope").FindPrimaryKey().Properties], 
                            keyValues: keyValues4);
                    };
                    return instance4;
                };
                return entity;
            }, 
            relatedDataLoaders: null, 
            inverseNavigation: [LIFTABLE Constant: Navigation: ClientScope.Client (Client) ToPrincipal Client Inverse: AllowedScopes | Resolver: namelessParameter{43} => namelessParameter{43}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientScope").FindNavigation("Client")], 
            fixup: (namelessParameter{44}, namelessParameter{45}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientScope>, ClientScope> | Resolver: namelessParameter{46} => namelessParameter{46}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("AllowedScopes").GetCollectionAccessor()].Add(
                    entity: namelessParameter{44}, 
                    value: namelessParameter{45}, 
                    forMaterialization: True);
                return namelessParameter{45}.<Client>k__BackingField = namelessParameter{44};
            }, 
            trackingQuery: False), 
        () => ShaperProcessingExpressionVisitor.PopulateSplitIncludeCollectionAsync<Client, ClientClaim>(
            collectionId: 3, 
            queryContext: (RelationalQueryContext)queryContext, 
            executionStrategy: executionStrategy, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientClaim.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientClaim.ClientId (int) Required FK Index, 1], [Property: ClientClaim.Type (string) Required Index MaxLength(250), 2], [Property: ClientClaim.Value (string) Required Index MaxLength(250), 3] }
                    1 -> 4
                SELECT c3.Id, c3.ClientId, c3.Type, c3.Value, c.Id
                FROM Clients AS c
                INNER JOIN ClientClaims AS c3 ON c.Id == c3.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientClaim.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientClaim.ClientId (int) Required FK Index, 1], [Property: ClientClaim.Type (string) Required Index MaxLength(250), 2], [Property: ClientClaim.Value (string) Required Index MaxLength(250), 3] }
                    1 -> 4
                SELECT c3.Id, c3.ClientId, c3.Type, c3.Value, c.Id
                FROM Clients AS c
                INNER JOIN ClientClaims AS c3 ON c.Id == c3.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            detailedErrorsEnabled: False, 
            resultCoordinator: resultCoordinator, 
            childIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(4) }], 
            identifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                ClientClaim entity;
                entity = 
                {
                    MaterializationContext materializationContext5;
                    IEntityType entityType5;
                    ClientClaim instance5;
                    materializationContext5 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance5 = default(ClientClaim);
                    (object)dataReader.GetInt32(0) != null ? 
                    {
                        ISnapshot shadowSnapshot5;
                        shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType5 = [LIFTABLE Constant: EntityType: ClientClaim | Resolver: namelessParameter{47} => namelessParameter{47}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientClaim")];
                        instance5 = switch (entityType5)
                        {
                            case [LIFTABLE Constant: EntityType: ClientClaim | Resolver: namelessParameter{48} => namelessParameter{48}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientClaim")]: 
                                {
                                    return 
                                    {
                                        ClientClaim instance;
                                        instance = new ClientClaim();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<ClientId>k__BackingField = dataReader.GetInt32(1);
                                        instance.<Type>k__BackingField = dataReader.GetString(2);
                                        instance.<Value>k__BackingField = dataReader.GetString(3);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext5.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: ClientClaim | Resolver: namelessParameter{49} => namelessParameter{49}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientClaim")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ClientClaim)
                        }
                        ;
                        return instance5;
                    } : 
                    {
                        object[] keyValues5;
                        keyValues5 = new object[]{ (object)dataReader.GetInt32(0) };
                        return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                            entityType: [LIFTABLE Constant: EntityType: ClientClaim | Resolver: namelessParameter{50} => namelessParameter{50}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientClaim")], 
                            properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: ClientClaim.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientClaim").FindPrimaryKey().Properties], 
                            keyValues: keyValues5);
                    };
                    return instance5;
                };
                return entity;
            }, 
            relatedDataLoaders: null, 
            inverseNavigation: [LIFTABLE Constant: Navigation: ClientClaim.Client (Client) ToPrincipal Client Inverse: Claims | Resolver: namelessParameter{51} => namelessParameter{51}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientClaim").FindNavigation("Client")], 
            fixup: (namelessParameter{52}, namelessParameter{53}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientClaim>, ClientClaim> | Resolver: namelessParameter{54} => namelessParameter{54}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("Claims").GetCollectionAccessor()].Add(
                    entity: namelessParameter{52}, 
                    value: namelessParameter{53}, 
                    forMaterialization: True);
                return namelessParameter{53}.<Client>k__BackingField = namelessParameter{52};
            }, 
            trackingQuery: False), 
        () => ShaperProcessingExpressionVisitor.PopulateSplitIncludeCollectionAsync<Client, ClientSecret>(
            collectionId: 4, 
            queryContext: (RelationalQueryContext)queryContext, 
            executionStrategy: executionStrategy, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientSecret.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientSecret.ClientId (int) Required FK Index, 1], [Property: ClientSecret.Created (DateTime) Required, 2], [Property: ClientSecret.Description (string) MaxLength(2000), 3], [Property: ClientSecret.Expiration (DateTime?), 4], [Property: ClientSecret.Type (string) Required MaxLength(250), 5], [Property: ClientSecret.Value (string) Required MaxLength(4000), 6] }
                    1 -> 7
                SELECT c4.Id, c4.ClientId, c4.Created, c4.Description, c4.Expiration, c4.Type, c4.Value, c.Id
                FROM Clients AS c
                INNER JOIN ClientSecrets AS c4 ON c.Id == c4.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientSecret.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientSecret.ClientId (int) Required FK Index, 1], [Property: ClientSecret.Created (DateTime) Required, 2], [Property: ClientSecret.Description (string) MaxLength(2000), 3], [Property: ClientSecret.Expiration (DateTime?), 4], [Property: ClientSecret.Type (string) Required MaxLength(250), 5], [Property: ClientSecret.Value (string) Required MaxLength(4000), 6] }
                    1 -> 7
                SELECT c4.Id, c4.ClientId, c4.Created, c4.Description, c4.Expiration, c4.Type, c4.Value, c.Id
                FROM Clients AS c
                INNER JOIN ClientSecrets AS c4 ON c.Id == c4.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            detailedErrorsEnabled: False, 
            resultCoordinator: resultCoordinator, 
            childIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(7) }], 
            identifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                ClientSecret entity;
                entity = 
                {
                    MaterializationContext materializationContext6;
                    IEntityType entityType6;
                    ClientSecret instance6;
                    materializationContext6 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance6 = default(ClientSecret);
                    (object)dataReader.GetInt32(0) != null ? 
                    {
                        ISnapshot shadowSnapshot6;
                        shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType6 = [LIFTABLE Constant: EntityType: ClientSecret | Resolver: namelessParameter{55} => namelessParameter{55}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientSecret")];
                        instance6 = switch (entityType6)
                        {
                            case [LIFTABLE Constant: EntityType: ClientSecret | Resolver: namelessParameter{56} => namelessParameter{56}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientSecret")]: 
                                {
                                    return 
                                    {
                                        ClientSecret instance;
                                        instance = new ClientSecret();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<ClientId>k__BackingField = dataReader.GetInt32(1);
                                        instance.<Created>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<Description>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                        instance.<Expiration>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                        instance.<Type>k__BackingField = dataReader.GetString(5);
                                        instance.<Value>k__BackingField = dataReader.GetString(6);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext6.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: ClientSecret | Resolver: namelessParameter{57} => namelessParameter{57}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientSecret")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ClientSecret)
                        }
                        ;
                        return instance6;
                    } : 
                    {
                        object[] keyValues6;
                        keyValues6 = new object[]{ (object)dataReader.GetInt32(0) };
                        return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                            entityType: [LIFTABLE Constant: EntityType: ClientSecret | Resolver: namelessParameter{58} => namelessParameter{58}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientSecret")], 
                            properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: ClientSecret.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientSecret").FindPrimaryKey().Properties], 
                            keyValues: keyValues6);
                    };
                    return instance6;
                };
                return entity;
            }, 
            relatedDataLoaders: null, 
            inverseNavigation: [LIFTABLE Constant: Navigation: ClientSecret.Client (Client) ToPrincipal Client Inverse: ClientSecrets | Resolver: namelessParameter{59} => namelessParameter{59}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientSecret").FindNavigation("Client")], 
            fixup: (namelessParameter{60}, namelessParameter{61}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientSecret>, ClientSecret> | Resolver: namelessParameter{62} => namelessParameter{62}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("ClientSecrets").GetCollectionAccessor()].Add(
                    entity: namelessParameter{60}, 
                    value: namelessParameter{61}, 
                    forMaterialization: True);
                return namelessParameter{61}.<Client>k__BackingField = namelessParameter{60};
            }, 
            trackingQuery: False), 
        () => ShaperProcessingExpressionVisitor.PopulateSplitIncludeCollectionAsync<Client, ClientIdPRestriction>(
            collectionId: 5, 
            queryContext: (RelationalQueryContext)queryContext, 
            executionStrategy: executionStrategy, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientIdPRestriction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientIdPRestriction.ClientId (int) Required FK Index, 1], [Property: ClientIdPRestriction.Provider (string) Required Index MaxLength(200), 2] }
                    1 -> 3
                SELECT c5.Id, c5.ClientId, c5.Provider, c.Id
                FROM Clients AS c
                INNER JOIN ClientIdPRestrictions AS c5 ON c.Id == c5.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientIdPRestriction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientIdPRestriction.ClientId (int) Required FK Index, 1], [Property: ClientIdPRestriction.Provider (string) Required Index MaxLength(200), 2] }
                    1 -> 3
                SELECT c5.Id, c5.ClientId, c5.Provider, c.Id
                FROM Clients AS c
                INNER JOIN ClientIdPRestrictions AS c5 ON c.Id == c5.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            detailedErrorsEnabled: False, 
            resultCoordinator: resultCoordinator, 
            childIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(3) }], 
            identifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                ClientIdPRestriction entity;
                entity = 
                {
                    MaterializationContext materializationContext7;
                    IEntityType entityType7;
                    ClientIdPRestriction instance7;
                    materializationContext7 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance7 = default(ClientIdPRestriction);
                    (object)dataReader.GetInt32(0) != null ? 
                    {
                        ISnapshot shadowSnapshot7;
                        shadowSnapshot7 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType7 = [LIFTABLE Constant: EntityType: ClientIdPRestriction | Resolver: namelessParameter{63} => namelessParameter{63}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientIdPRestriction")];
                        instance7 = switch (entityType7)
                        {
                            case [LIFTABLE Constant: EntityType: ClientIdPRestriction | Resolver: namelessParameter{64} => namelessParameter{64}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientIdPRestriction")]: 
                                {
                                    return 
                                    {
                                        ClientIdPRestriction instance;
                                        instance = new ClientIdPRestriction();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<ClientId>k__BackingField = dataReader.GetInt32(1);
                                        instance.<Provider>k__BackingField = dataReader.GetString(2);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext7.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: ClientIdPRestriction | Resolver: namelessParameter{65} => namelessParameter{65}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientIdPRestriction")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ClientIdPRestriction)
                        }
                        ;
                        return instance7;
                    } : 
                    {
                        object[] keyValues7;
                        keyValues7 = new object[]{ (object)dataReader.GetInt32(0) };
                        return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                            entityType: [LIFTABLE Constant: EntityType: ClientIdPRestriction | Resolver: namelessParameter{66} => namelessParameter{66}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientIdPRestriction")], 
                            properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: ClientIdPRestriction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientIdPRestriction").FindPrimaryKey().Properties], 
                            keyValues: keyValues7);
                    };
                    return instance7;
                };
                return entity;
            }, 
            relatedDataLoaders: null, 
            inverseNavigation: [LIFTABLE Constant: Navigation: ClientIdPRestriction.Client (Client) ToPrincipal Client Inverse: IdentityProviderRestrictions | Resolver: namelessParameter{67} => namelessParameter{67}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientIdPRestriction").FindNavigation("Client")], 
            fixup: (namelessParameter{68}, namelessParameter{69}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientIdPRestriction>, ClientIdPRestriction> | Resolver: namelessParameter{70} => namelessParameter{70}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("IdentityProviderRestrictions").GetCollectionAccessor()].Add(
                    entity: namelessParameter{68}, 
                    value: namelessParameter{69}, 
                    forMaterialization: True);
                return namelessParameter{69}.<Client>k__BackingField = namelessParameter{68};
            }, 
            trackingQuery: False), 
        () => ShaperProcessingExpressionVisitor.PopulateSplitIncludeCollectionAsync<Client, ClientPostLogoutRedirectUri>(
            collectionId: 6, 
            queryContext: (RelationalQueryContext)queryContext, 
            executionStrategy: executionStrategy, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientPostLogoutRedirectUri.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientPostLogoutRedirectUri.ClientId (int) Required FK Index, 1], [Property: ClientPostLogoutRedirectUri.PostLogoutRedirectUri (string) Required Index MaxLength(400), 2] }
                    1 -> 3
                SELECT c6.Id, c6.ClientId, c6.PostLogoutRedirectUri, c.Id
                FROM Clients AS c
                INNER JOIN ClientPostLogoutRedirectUris AS c6 ON c.Id == c6.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientPostLogoutRedirectUri.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientPostLogoutRedirectUri.ClientId (int) Required FK Index, 1], [Property: ClientPostLogoutRedirectUri.PostLogoutRedirectUri (string) Required Index MaxLength(400), 2] }
                    1 -> 3
                SELECT c6.Id, c6.ClientId, c6.PostLogoutRedirectUri, c.Id
                FROM Clients AS c
                INNER JOIN ClientPostLogoutRedirectUris AS c6 ON c.Id == c6.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            detailedErrorsEnabled: False, 
            resultCoordinator: resultCoordinator, 
            childIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(3) }], 
            identifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                ClientPostLogoutRedirectUri entity;
                entity = 
                {
                    MaterializationContext materializationContext8;
                    IEntityType entityType8;
                    ClientPostLogoutRedirectUri instance8;
                    materializationContext8 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance8 = default(ClientPostLogoutRedirectUri);
                    (object)dataReader.GetInt32(0) != null ? 
                    {
                        ISnapshot shadowSnapshot8;
                        shadowSnapshot8 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType8 = [LIFTABLE Constant: EntityType: ClientPostLogoutRedirectUri | Resolver: namelessParameter{71} => namelessParameter{71}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientPostLogoutRedirectUri")];
                        instance8 = switch (entityType8)
                        {
                            case [LIFTABLE Constant: EntityType: ClientPostLogoutRedirectUri | Resolver: namelessParameter{72} => namelessParameter{72}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientPostLogoutRedirectUri")]: 
                                {
                                    return 
                                    {
                                        ClientPostLogoutRedirectUri instance;
                                        instance = new ClientPostLogoutRedirectUri();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<ClientId>k__BackingField = dataReader.GetInt32(1);
                                        instance.<PostLogoutRedirectUri>k__BackingField = dataReader.GetString(2);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext8.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: ClientPostLogoutRedirectUri | Resolver: namelessParameter{73} => namelessParameter{73}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientPostLogoutRedirectUri")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ClientPostLogoutRedirectUri)
                        }
                        ;
                        return instance8;
                    } : 
                    {
                        object[] keyValues8;
                        keyValues8 = new object[]{ (object)dataReader.GetInt32(0) };
                        return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                            entityType: [LIFTABLE Constant: EntityType: ClientPostLogoutRedirectUri | Resolver: namelessParameter{74} => namelessParameter{74}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientPostLogoutRedirectUri")], 
                            properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: ClientPostLogoutRedirectUri.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientPostLogoutRedirectUri").FindPrimaryKey().Properties], 
                            keyValues: keyValues8);
                    };
                    return instance8;
                };
                return entity;
            }, 
            relatedDataLoaders: null, 
            inverseNavigation: [LIFTABLE Constant: Navigation: ClientPostLogoutRedirectUri.Client (Client) ToPrincipal Client Inverse: PostLogoutRedirectUris | Resolver: namelessParameter{75} => namelessParameter{75}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientPostLogoutRedirectUri").FindNavigation("Client")], 
            fixup: (namelessParameter{76}, namelessParameter{77}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientPostLogoutRedirectUri>, ClientPostLogoutRedirectUri> | Resolver: namelessParameter{78} => namelessParameter{78}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("PostLogoutRedirectUris").GetCollectionAccessor()].Add(
                    entity: namelessParameter{76}, 
                    value: namelessParameter{77}, 
                    forMaterialization: True);
                return namelessParameter{77}.<Client>k__BackingField = namelessParameter{76};
            }, 
            trackingQuery: False), 
        () => ShaperProcessingExpressionVisitor.PopulateSplitIncludeCollectionAsync<Client, ClientProperty>(
            collectionId: 7, 
            queryContext: (RelationalQueryContext)queryContext, 
            executionStrategy: executionStrategy, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientProperty.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientProperty.ClientId (int) Required FK Index, 1], [Property: ClientProperty.Key (string) Required Index MaxLength(250), 2], [Property: ClientProperty.Value (string) Required MaxLength(2000), 3] }
                    1 -> 4
                SELECT c7.Id, c7.ClientId, c7.Key, c7.Value, c.Id
                FROM Clients AS c
                INNER JOIN ClientProperties AS c7 ON c.Id == c7.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientProperty.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientProperty.ClientId (int) Required FK Index, 1], [Property: ClientProperty.Key (string) Required Index MaxLength(250), 2], [Property: ClientProperty.Value (string) Required MaxLength(2000), 3] }
                    1 -> 4
                SELECT c7.Id, c7.ClientId, c7.Key, c7.Value, c.Id
                FROM Clients AS c
                INNER JOIN ClientProperties AS c7 ON c.Id == c7.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            detailedErrorsEnabled: False, 
            resultCoordinator: resultCoordinator, 
            childIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(4) }], 
            identifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                ClientProperty entity;
                entity = 
                {
                    MaterializationContext materializationContext9;
                    IEntityType entityType9;
                    ClientProperty instance9;
                    materializationContext9 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance9 = default(ClientProperty);
                    (object)dataReader.GetInt32(0) != null ? 
                    {
                        ISnapshot shadowSnapshot9;
                        shadowSnapshot9 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType9 = [LIFTABLE Constant: EntityType: ClientProperty | Resolver: namelessParameter{79} => namelessParameter{79}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientProperty")];
                        instance9 = switch (entityType9)
                        {
                            case [LIFTABLE Constant: EntityType: ClientProperty | Resolver: namelessParameter{80} => namelessParameter{80}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientProperty")]: 
                                {
                                    return 
                                    {
                                        ClientProperty instance;
                                        instance = new ClientProperty();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<ClientId>k__BackingField = dataReader.GetInt32(1);
                                        instance.<Key>k__BackingField = dataReader.GetString(2);
                                        instance.<Value>k__BackingField = dataReader.GetString(3);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext9.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: ClientProperty | Resolver: namelessParameter{81} => namelessParameter{81}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientProperty")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ClientProperty)
                        }
                        ;
                        return instance9;
                    } : 
                    {
                        object[] keyValues9;
                        keyValues9 = new object[]{ (object)dataReader.GetInt32(0) };
                        return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                            entityType: [LIFTABLE Constant: EntityType: ClientProperty | Resolver: namelessParameter{82} => namelessParameter{82}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientProperty")], 
                            properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: ClientProperty.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientProperty").FindPrimaryKey().Properties], 
                            keyValues: keyValues9);
                    };
                    return instance9;
                };
                return entity;
            }, 
            relatedDataLoaders: null, 
            inverseNavigation: [LIFTABLE Constant: Navigation: ClientProperty.Client (Client) ToPrincipal Client Inverse: Properties | Resolver: namelessParameter{83} => namelessParameter{83}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientProperty").FindNavigation("Client")], 
            fixup: (namelessParameter{84}, namelessParameter{85}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientProperty>, ClientProperty> | Resolver: namelessParameter{86} => namelessParameter{86}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("Properties").GetCollectionAccessor()].Add(
                    entity: namelessParameter{84}, 
                    value: namelessParameter{85}, 
                    forMaterialization: True);
                return namelessParameter{85}.<Client>k__BackingField = namelessParameter{84};
            }, 
            trackingQuery: False), 
        () => ShaperProcessingExpressionVisitor.PopulateSplitIncludeCollectionAsync<Client, ClientRedirectUri>(
            collectionId: 8, 
            queryContext: (RelationalQueryContext)queryContext, 
            executionStrategy: executionStrategy, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientRedirectUri.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientRedirectUri.ClientId (int) Required FK Index, 1], [Property: ClientRedirectUri.RedirectUri (string) Required Index MaxLength(400), 2] }
                    1 -> 3
                SELECT c8.Id, c8.ClientId, c8.RedirectUri, c.Id
                FROM Clients AS c
                INNER JOIN ClientRedirectUris AS c8 ON c.Id == c8.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClientRedirectUri.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClientRedirectUri.ClientId (int) Required FK Index, 1], [Property: ClientRedirectUri.RedirectUri (string) Required Index MaxLength(400), 2] }
                    1 -> 3
                SELECT c8.Id, c8.ClientId, c8.RedirectUri, c.Id
                FROM Clients AS c
                INNER JOIN ClientRedirectUris AS c8 ON c.Id == c8.ClientId
                WHERE c.ClientId == @__clientId_0
                ORDER BY c.Id ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            detailedErrorsEnabled: False, 
            resultCoordinator: resultCoordinator, 
            childIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(3) }], 
            identifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                ClientRedirectUri entity;
                entity = 
                {
                    MaterializationContext materializationContext10;
                    IEntityType entityType10;
                    ClientRedirectUri instance10;
                    materializationContext10 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance10 = default(ClientRedirectUri);
                    (object)dataReader.GetInt32(0) != null ? 
                    {
                        ISnapshot shadowSnapshot10;
                        shadowSnapshot10 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType10 = [LIFTABLE Constant: EntityType: ClientRedirectUri | Resolver: namelessParameter{87} => namelessParameter{87}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientRedirectUri")];
                        instance10 = switch (entityType10)
                        {
                            case [LIFTABLE Constant: EntityType: ClientRedirectUri | Resolver: namelessParameter{88} => namelessParameter{88}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientRedirectUri")]: 
                                {
                                    return 
                                    {
                                        ClientRedirectUri instance;
                                        instance = new ClientRedirectUri();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<ClientId>k__BackingField = dataReader.GetInt32(1);
                                        instance.<RedirectUri>k__BackingField = dataReader.GetString(2);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext10.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: ClientRedirectUri | Resolver: namelessParameter{89} => namelessParameter{89}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientRedirectUri")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ClientRedirectUri)
                        }
                        ;
                        return instance10;
                    } : 
                    {
                        object[] keyValues10;
                        keyValues10 = new object[]{ (object)dataReader.GetInt32(0) };
                        return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                            entityType: [LIFTABLE Constant: EntityType: ClientRedirectUri | Resolver: namelessParameter{90} => namelessParameter{90}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientRedirectUri")], 
                            properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: ClientRedirectUri.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientRedirectUri").FindPrimaryKey().Properties], 
                            keyValues: keyValues10);
                    };
                    return instance10;
                };
                return entity;
            }, 
            relatedDataLoaders: null, 
            inverseNavigation: [LIFTABLE Constant: Navigation: ClientRedirectUri.Client (Client) ToPrincipal Client Inverse: RedirectUris | Resolver: namelessParameter{91} => namelessParameter{91}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.ClientRedirectUri").FindNavigation("Client")], 
            fixup: (namelessParameter{92}, namelessParameter{93}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Client, List<ClientRedirectUri>, ClientRedirectUri> | Resolver: namelessParameter{94} => namelessParameter{94}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.Client").FindNavigation("RedirectUris").GetCollectionAccessor()].Add(
                    entity: namelessParameter{92}, 
                    value: namelessParameter{93}, 
                    forMaterialization: True);
                return namelessParameter{93}.<Client>k__BackingField = namelessParameter{92};
            }, 
            trackingQuery: False) 
    }), 
    contextType: Skoruba.Duende.IdentityServer.Admin.EntityFramework.Shared.DbContexts.IdentityServerConfigurationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-01-14 22:33:06.152 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.152 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.152 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.152 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.152 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.152 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.153 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.171 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.171 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.171 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.171 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.172 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.175 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.175 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.175 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.175 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.176 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.178 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.178 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.178 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.178 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.179 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.180 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.180 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.180 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.180 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.181 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.182 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.183 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.183 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.183 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.217 +08:00 [INF] Executed DbCommand (35ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.219 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.219 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.219 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.219 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.220 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.221 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.221 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.221 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.221 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.222 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.224 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.224 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.224 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.224 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.225 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.226 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.226 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.226 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.226 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.227 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.228 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.228 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 74ms reading results.
2026-01-14 22:33:06.229 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.229 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 56ms reading results.
2026-01-14 22:33:06.229 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.229 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 53ms reading results.
2026-01-14 22:33:06.229 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.229 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 49ms reading results.
2026-01-14 22:33:06.229 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.229 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 47ms reading results.
2026-01-14 22:33:06.229 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.229 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 11ms reading results.
2026-01-14 22:33:06.229 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.229 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 8ms reading results.
2026-01-14 22:33:06.229 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.229 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 6ms reading results.
2026-01-14 22:33:06.229 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.229 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 4ms reading results.
2026-01-14 22:33:06.229 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.229 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 2ms reading results.
2026-01-14 22:33:06.229 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.229 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:06.241 +08:00 [INF] {"ClientId":"riskcontrolsystemweb","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"800163d6-0002-f600-b63f-84710c7967bb","TimeStamp":"2026-01-14T14:33:06.2411535","ProcessId":10908,"LocalIpAddress":"172.16.68.16:443","RemoteIpAddress":"172.16.8.121","$type":"ClientAuthenticationSuccessEvent"}
2026-01-14 22:33:06.311 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.311 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.311 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.311 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.311 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.311 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.313 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.313 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.313 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.313 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.313 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.314 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.314 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.314 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.314 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.314 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.315 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.315 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.315 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.315 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.315 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.316 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.316 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.316 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.316 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.316 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.317 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.317 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.317 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.317 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.317 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.318 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.318 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.318 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.318 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.318 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.319 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.319 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.319 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.319 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.319 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.319 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.320 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.320 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.320 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.320 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.321 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.321 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.321 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.321 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.321 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.321 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.322 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.322 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 9ms reading results.
2026-01-14 22:33:06.322 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.322 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 7ms reading results.
2026-01-14 22:33:06.322 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.322 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 7ms reading results.
2026-01-14 22:33:06.322 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.322 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 6ms reading results.
2026-01-14 22:33:06.322 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.322 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 5ms reading results.
2026-01-14 22:33:06.322 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.322 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 4ms reading results.
2026-01-14 22:33:06.322 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.322 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 3ms reading results.
2026-01-14 22:33:06.322 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.322 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 2ms reading results.
2026-01-14 22:33:06.322 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.322 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 1ms reading results.
2026-01-14 22:33:06.322 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.322 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:06.322 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.322 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:06.326 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.326 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.326 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.326 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.326 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.326 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.327 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.328 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.328 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.328 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.328 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.328 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.329 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.329 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.329 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.329 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.330 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.330 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.330 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.330 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.330 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.330 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.331 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.331 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.331 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.331 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.331 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.331 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.332 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.332 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.332 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.332 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.332 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.333 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.333 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.333 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.333 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.333 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.333 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.333 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.333 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.334 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.334 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.334 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.334 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.334 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.338 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.338 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.338 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.338 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.338 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.342 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:06.342 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.342 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 14ms reading results.
2026-01-14 22:33:06.343 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.343 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 14ms reading results.
2026-01-14 22:33:06.343 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.343 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 12ms reading results.
2026-01-14 22:33:06.343 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.343 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 12ms reading results.
2026-01-14 22:33:06.343 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.343 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 11ms reading results.
2026-01-14 22:33:06.343 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.343 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 10ms reading results.
2026-01-14 22:33:06.343 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.343 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 9ms reading results.
2026-01-14 22:33:06.343 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.343 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 8ms reading results.
2026-01-14 22:33:06.343 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.343 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 4ms reading results.
2026-01-14 22:33:06.343 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.343 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:06.343 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.343 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:06.348 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'AdminIdentityDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: MigrationsAssembly=Skoruba.Duende.IdentityServer.Admin.EntityFramework.Configuration EngineType=SqlServer 
2026-01-14 22:33:06.354 +08:00 [DBG] Compiling query expression: 
'DbSet<UserIdentity>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2026-01-14 22:33:06.365 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserIdentity>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserIdentity>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserIdentity.Id (string) Required PK AfterSave:Throw, 0], [Property: UserIdentity.AccessFailedCount (int) Required, 1], [Property: UserIdentity.ConcurrencyStamp (string) Concurrency, 2], [Property: UserIdentity.CreatedAt (DateTime) Required, 3], [Property: UserIdentity.DisplayName (string), 4], [Property: UserIdentity.Email (string) MaxLength(256), 5], [Property: UserIdentity.EmailConfirmed (bool) Required, 6], [Property: UserIdentity.FirstName (string), 7], [Property: UserIdentity.IsActive (bool) Required, 8], [Property: UserIdentity.LastName (string), 9], [Property: UserIdentity.LockoutEnabled (bool) Required, 10], [Property: UserIdentity.LockoutEnd (DateTimeOffset?), 11], [Property: UserIdentity.NormalizedEmail (string) Index MaxLength(256), 12], [Property: UserIdentity.NormalizedUserName (string) Index MaxLength(256), 13], [Property: UserIdentity.PasswordHash (string), 14], [Property: UserIdentity.PhoneNumber (string), 15], [Property: UserIdentity.PhoneNumberConfirmed (bool) Required, 16], [Property: UserIdentity.PrimaryOrganizationId (Guid?), 17], [Property: UserIdentity.SecurityStamp (string), 18], [Property: UserIdentity.TenantId (Guid?), 19], [Property: UserIdentity.TwoFactorEnabled (bool) Required, 20], [Property: UserIdentity.UpdatedAt (DateTime?), 21], [Property: UserIdentity.UserName (string) MaxLength(256), 22] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DisplayName, u.Email, u.EmailConfirmed, u.FirstName, u.IsActive, u.LastName, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.PrimaryOrganizationId, u.SecurityStamp, u.TenantId, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM Users AS u
            WHERE u.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserIdentity.Id (string) Required PK AfterSave:Throw, 0], [Property: UserIdentity.AccessFailedCount (int) Required, 1], [Property: UserIdentity.ConcurrencyStamp (string) Concurrency, 2], [Property: UserIdentity.CreatedAt (DateTime) Required, 3], [Property: UserIdentity.DisplayName (string), 4], [Property: UserIdentity.Email (string) MaxLength(256), 5], [Property: UserIdentity.EmailConfirmed (bool) Required, 6], [Property: UserIdentity.FirstName (string), 7], [Property: UserIdentity.IsActive (bool) Required, 8], [Property: UserIdentity.LastName (string), 9], [Property: UserIdentity.LockoutEnabled (bool) Required, 10], [Property: UserIdentity.LockoutEnd (DateTimeOffset?), 11], [Property: UserIdentity.NormalizedEmail (string) Index MaxLength(256), 12], [Property: UserIdentity.NormalizedUserName (string) Index MaxLength(256), 13], [Property: UserIdentity.PasswordHash (string), 14], [Property: UserIdentity.PhoneNumber (string), 15], [Property: UserIdentity.PhoneNumberConfirmed (bool) Required, 16], [Property: UserIdentity.PrimaryOrganizationId (Guid?), 17], [Property: UserIdentity.SecurityStamp (string), 18], [Property: UserIdentity.TenantId (Guid?), 19], [Property: UserIdentity.TwoFactorEnabled (bool) Required, 20], [Property: UserIdentity.UpdatedAt (DateTime?), 21], [Property: UserIdentity.UserName (string) MaxLength(256), 22] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DisplayName, u.Email, u.EmailConfirmed, u.FirstName, u.IsActive, u.LastName, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.PrimaryOrganizationId, u.SecurityStamp, u.TenantId, u.TwoFactorEnabled, u.UpdatedAt, u.UserName
            FROM Users AS u
            WHERE u.Id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UserIdentity entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserIdentity instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserIdentity);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UserIdentity.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Skoruba.Duende.IdentityServer.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UserIdentity)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserIdentity | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Skoruba.Duende.IdentityServer.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserIdentity | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Skoruba.Duende.IdentityServer.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity")]: 
                            {
                                return 
                                {
                                    UserIdentity instance;
                                    instance = new UserIdentity();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<DisplayName>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<FirstName>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(8);
                                    instance.<LastName>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(10);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(11) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(11);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(16);
                                    instance.<PrimaryOrganizationId>k__BackingField = dataReader.IsDBNull(17) ? default(Guid?) : (Guid?)dataReader.GetGuid(17);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                    instance.<TenantId>k__BackingField = dataReader.IsDBNull(19) ? default(Guid?) : (Guid?)dataReader.GetGuid(19);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(20);
                                    instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(21) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(21);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserIdentity | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Skoruba.Duende.IdentityServer.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserIdentity)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Skoruba.Duende.IdentityServer.Admin.EntityFramework.Shared.DbContexts.AdminIdentityDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-01-14 22:33:06.368 +08:00 [DBG] Creating DbConnection.
2026-01-14 22:33:06.368 +08:00 [DBG] Created DbConnection. (0ms).
2026-01-14 22:33:06.368 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.368 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.368 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.368 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.368 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.368 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PrimaryOrganizationId], [u].[SecurityStamp], [u].[TenantId], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2026-01-14 22:33:06.369 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PrimaryOrganizationId], [u].[SecurityStamp], [u].[TenantId], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2026-01-14 22:33:06.394 +08:00 [DBG] Context 'AdminIdentityDbContext' started tracking 'UserIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-14 22:33:06.435 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.436 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 66ms reading results.
2026-01-14 22:33:06.436 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.436 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:06.450 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'TokenManagementDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2026-01-14 22:33:06.452 +08:00 [DBG] Compiling query expression: 
'DbSet<RevokedToken>()
    .Any(x => x.Jti == __jti_0)'
2026-01-14 22:33:06.456 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM RevokedTokens AS r
                WHERE r.Jti == @__jti_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM RevokedTokens AS r
                WHERE r.Jti == @__jti_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: Skoruba.Duende.IdentityServer.Admin.EntityFramework.DbContexts.TokenManagementDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-01-14 22:33:06.465 +08:00 [DBG] Creating DbConnection.
2026-01-14 22:33:06.465 +08:00 [DBG] Created DbConnection. (0ms).
2026-01-14 22:33:06.465 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.465 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.465 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:06.465 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.465 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:06.465 +08:00 [DBG] Executing DbCommand [Parameters=[@__jti_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [RevokedTokens] AS [r]
        WHERE [r].[Jti] = @__jti_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-14 22:33:06.466 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__jti_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [RevokedTokens] AS [r]
        WHERE [r].[Jti] = @__jti_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-14 22:33:06.467 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.467 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 1ms reading results.
2026-01-14 22:33:06.467 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.468 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:06.468 +08:00 [INF] Token with JTI 1E9D00A3F71471E92B154516ACE22DA9 has been revoked
2026-01-14 22:33:06.468 +08:00 [DBG] 'TokenManagementDbContext' disposed.
2026-01-14 22:33:06.468 +08:00 [DBG] Disposing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.468 +08:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-01-14 22:33:06.468 +08:00 [INF] Token introspection: JTI 1E9D00A3F71471E92B154516ACE22DA9 is revoked, marking as inactive
2026-01-14 22:33:06.479 +08:00 [INF] {"Details":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at Duende.IdentityServer.ResponseHandling.IntrospectionResponseGenerator.ProcessAsync(IntrospectionRequestValidationResult validationResult) in /_/identity-server/src/IdentityServer/ResponseHandling/Default/IntrospectionResponseGenerator.cs:line 61\r\n   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessIntrospectionRequestAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 155\r\n   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 84\r\n   at Duende.IdentityServer.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IdentityServerOptions options, IEndpointRouter router, IUserSession userSession, IEventService events, IIssuerNameService issuerNameService, ISessionCoordinationService sessionCoordinationService) in /_/identity-server/src/IdentityServer/Hosting/IdentityServerMiddleware.cs:line 114","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Object reference not set to an instance of an object.","ActivityId":"800163d6-0002-f600-b63f-84710c7967bb","TimeStamp":"2026-01-14T14:33:06.4794257","ProcessId":10908,"LocalIpAddress":"172.16.68.16:443","RemoteIpAddress":"172.16.8.121","$type":"UnhandledExceptionEvent"}
2026-01-14 22:33:06.480 +08:00 [FTL] Unhandled exception: Object reference not set to an instance of an object.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Duende.IdentityServer.ResponseHandling.IntrospectionResponseGenerator.ProcessAsync(IntrospectionRequestValidationResult validationResult) in /_/identity-server/src/IdentityServer/ResponseHandling/Default/IntrospectionResponseGenerator.cs:line 61
   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessIntrospectionRequestAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 155
   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 84
   at Duende.IdentityServer.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IdentityServerOptions options, IEndpointRouter router, IUserSession userSession, IEventService events, IIssuerNameService issuerNameService, ISessionCoordinationService sessionCoordinationService) in /_/identity-server/src/IdentityServer/Hosting/IdentityServerMiddleware.cs:line 114
2026-01-14 22:33:06.482 +08:00 [ERR] Connection ID "17726168143530910677", Request ID "800163d6-0002-f600-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Duende.IdentityServer.ResponseHandling.IntrospectionResponseGenerator.ProcessAsync(IntrospectionRequestValidationResult validationResult) in /_/identity-server/src/IdentityServer/ResponseHandling/Default/IntrospectionResponseGenerator.cs:line 61
   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessIntrospectionRequestAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 155
   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 84
   at Duende.IdentityServer.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IdentityServerOptions options, IEndpointRouter router, IUserSession userSession, IEventService events, IIssuerNameService issuerNameService, ISessionCoordinationService sessionCoordinationService) in /_/identity-server/src/IdentityServer/Hosting/IdentityServerMiddleware.cs:line 114
   at Duende.IdentityServer.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IdentityServerOptions options, IEndpointRouter router, IUserSession userSession, IEventService events, IIssuerNameService issuerNameService, ISessionCoordinationService sessionCoordinationService) in /_/identity-server/src/IdentityServer/Hosting/IdentityServerMiddleware.cs:line 136
   at Duende.IdentityServer.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in /_/identity-server/src/IdentityServer/Hosting/MutualTlsEndpointMiddleware.cs:line 118
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Duende.IdentityServer.Hosting.DynamicProviders.DynamicSchemeAuthenticationMiddleware.Invoke(HttpContext context) in /_/identity-server/src/IdentityServer/Hosting/DynamicProviders/DynamicSchemes/DynamicSchemeAuthenticationMiddleware.cs:line 50
   at Duende.IdentityServer.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in /_/identity-server/src/IdentityServer/Hosting/BaseUrlMiddleware.cs:line 23
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2026-01-14 22:33:06.489 +08:00 [DBG] 'AdminIdentityDbContext' disposed.
2026-01-14 22:33:06.491 +08:00 [DBG] Disposing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.491 +08:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-01-14 22:33:06.491 +08:00 [DBG] 'IdentityServerConfigurationDbContext' disposed.
2026-01-14 22:33:06.491 +08:00 [DBG] Disposing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:06.491 +08:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-01-14 22:33:06.492 +08:00 [INF] Request finished HTTP/1.1 POST https://prs.uccapital.com.tw/sts/connect/introspect - 500 null null 760.2694ms
2026-01-14 22:33:07.679 +08:00 [INF] Request starting HTTP/1.1 POST https://prs.uccapital.com.tw/sts/connect/introspect - application/x-www-form-urlencoded 1467
2026-01-14 22:33:07.680 +08:00 [DBG] POST requests are not supported
2026-01-14 22:33:07.680 +08:00 [DBG] POST requests are not supported
2026-01-14 22:33:07.692 +08:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.IntrospectionEndpoint for /connect/introspect
2026-01-14 22:33:07.741 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'IdentityServerConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: MigrationsAssembly=Skoruba.Duende.IdentityServer.Admin.EntityFramework.Configuration EngineType=SqlServer 
2026-01-14 22:33:07.743 +08:00 [DBG] Creating DbConnection.
2026-01-14 22:33:07.743 +08:00 [DBG] Created DbConnection. (0ms).
2026-01-14 22:33:07.743 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.743 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.743 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.743 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.743 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.743 +08:00 [DBG] Executing DbCommand [Parameters=[@__apiResourceNames_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[RequireResourceIndicator], [a].[ShowInDiscoveryDocument], [a].[Updated], [a1].[Id], [a1].[ApiResourceId], [a1].[Created], [a1].[Description], [a1].[Expiration], [a1].[Type], [a1].[Value], [a2].[Id], [a2].[ApiResourceId], [a2].[Scope], [a3].[Id], [a3].[ApiResourceId], [a3].[Type], [a4].[Id], [a4].[ApiResourceId], [a4].[Key], [a4].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a4] ON [a].[Id] = [a4].[ApiResourceId]
WHERE [a].[Name] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__apiResourceNames_0) WITH ([value] nvarchar(200) '$') AS [a0]
)
ORDER BY [a].[Id], [a1].[Id], [a2].[Id], [a3].[Id]
2026-01-14 22:33:07.745 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__apiResourceNames_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[RequireResourceIndicator], [a].[ShowInDiscoveryDocument], [a].[Updated], [a1].[Id], [a1].[ApiResourceId], [a1].[Created], [a1].[Description], [a1].[Expiration], [a1].[Type], [a1].[Value], [a2].[Id], [a2].[ApiResourceId], [a2].[Scope], [a3].[Id], [a3].[ApiResourceId], [a3].[Type], [a4].[Id], [a4].[ApiResourceId], [a4].[Key], [a4].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a4] ON [a].[Id] = [a4].[ApiResourceId]
WHERE [a].[Name] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__apiResourceNames_0) WITH ([value] nvarchar(200) '$') AS [a0]
)
ORDER BY [a].[Id], [a1].[Id], [a2].[Id], [a3].[Id]
2026-01-14 22:33:07.745 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.745 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:07.745 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.745 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:07.745 +08:00 [INF] {"ApiName":"riskcontrolsystemweb","Category":"Authentication","Name":"API Authentication Failure","EventType":"Failure","Id":1021,"Message":"Unknown API resource","ActivityId":"800163d7-0002-f600-b63f-84710c7967bb","TimeStamp":"2026-01-14T14:33:07.7457983","ProcessId":10908,"LocalIpAddress":"172.16.68.16:443","RemoteIpAddress":"172.16.8.121","$type":"ApiAuthenticationFailureEvent"}
2026-01-14 22:33:07.746 +08:00 [ERR] No API resource with that name found. aborting
2026-01-14 22:33:07.746 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.746 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.746 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.747 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.747 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.747 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.748 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.748 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.748 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.748 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.749 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.749 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.749 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.750 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.750 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.750 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.750 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.751 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.751 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.751 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.751 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.751 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.752 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.752 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.752 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.752 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.752 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.752 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.753 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.753 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.753 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.753 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.754 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.754 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.754 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.754 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.754 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.754 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.755 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.755 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.755 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.755 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.755 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.756 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.756 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.756 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.756 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.756 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.756 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.757 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.757 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.757 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.758 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.758 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 9ms reading results.
2026-01-14 22:33:07.758 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.758 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 8ms reading results.
2026-01-14 22:33:07.758 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.758 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 7ms reading results.
2026-01-14 22:33:07.758 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.758 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 6ms reading results.
2026-01-14 22:33:07.758 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.758 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 5ms reading results.
2026-01-14 22:33:07.758 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.758 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 4ms reading results.
2026-01-14 22:33:07.758 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.758 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 3ms reading results.
2026-01-14 22:33:07.758 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.758 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 2ms reading results.
2026-01-14 22:33:07.758 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.758 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 1ms reading results.
2026-01-14 22:33:07.758 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.758 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:07.758 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.759 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:07.760 +08:00 [INF] {"ClientId":"riskcontrolsystemweb","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"800163d7-0002-f600-b63f-84710c7967bb","TimeStamp":"2026-01-14T14:33:07.7594917","ProcessId":10908,"LocalIpAddress":"172.16.68.16:443","RemoteIpAddress":"172.16.8.121","$type":"ClientAuthenticationSuccessEvent"}
2026-01-14 22:33:07.761 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.762 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.762 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.762 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.762 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.762 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.763 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.763 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.763 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.763 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.763 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.764 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.764 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.764 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.764 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.764 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.765 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.765 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.765 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.765 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.765 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.766 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.766 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.766 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.766 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.766 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.767 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.767 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.768 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.768 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.768 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.768 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.769 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.769 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.769 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.769 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.769 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.769 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.770 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.770 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.770 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.770 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.771 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.771 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.771 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.771 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.772 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.772 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.772 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.772 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.772 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.773 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.773 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.773 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 9ms reading results.
2026-01-14 22:33:07.773 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.773 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 8ms reading results.
2026-01-14 22:33:07.773 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.773 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 8ms reading results.
2026-01-14 22:33:07.773 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.773 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 7ms reading results.
2026-01-14 22:33:07.773 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.773 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 5ms reading results.
2026-01-14 22:33:07.773 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.773 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 4ms reading results.
2026-01-14 22:33:07.773 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.773 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 3ms reading results.
2026-01-14 22:33:07.773 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.773 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 2ms reading results.
2026-01-14 22:33:07.773 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.773 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 1ms reading results.
2026-01-14 22:33:07.773 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.774 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:07.774 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.774 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:07.774 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.775 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.775 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.775 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.775 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.775 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.776 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.776 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.776 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.776 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.776 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.777 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.777 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.777 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.777 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.778 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.778 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.778 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.778 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.778 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.778 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.779 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.780 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.780 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.780 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.780 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.781 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.781 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.781 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.781 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.781 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.782 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.782 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.782 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.782 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.782 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.783 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.783 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.783 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.784 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.784 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.784 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.785 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.785 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.785 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.785 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.786 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.786 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.786 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.786 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.786 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.787 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:07.787 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.787 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 11ms reading results.
2026-01-14 22:33:07.787 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.787 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 9ms reading results.
2026-01-14 22:33:07.787 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.787 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 9ms reading results.
2026-01-14 22:33:07.787 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.787 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 7ms reading results.
2026-01-14 22:33:07.787 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.787 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 6ms reading results.
2026-01-14 22:33:07.787 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.787 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 5ms reading results.
2026-01-14 22:33:07.788 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.788 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 4ms reading results.
2026-01-14 22:33:07.788 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.788 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 3ms reading results.
2026-01-14 22:33:07.788 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.788 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 1ms reading results.
2026-01-14 22:33:07.788 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.788 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:07.788 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.788 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:07.789 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'AdminIdentityDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: MigrationsAssembly=Skoruba.Duende.IdentityServer.Admin.EntityFramework.Configuration EngineType=SqlServer 
2026-01-14 22:33:07.790 +08:00 [DBG] Creating DbConnection.
2026-01-14 22:33:07.790 +08:00 [DBG] Created DbConnection. (0ms).
2026-01-14 22:33:07.790 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.790 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.790 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.790 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.790 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.790 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PrimaryOrganizationId], [u].[SecurityStamp], [u].[TenantId], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2026-01-14 22:33:07.792 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PrimaryOrganizationId], [u].[SecurityStamp], [u].[TenantId], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2026-01-14 22:33:07.792 +08:00 [DBG] Context 'AdminIdentityDbContext' started tracking 'UserIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-14 22:33:07.792 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.793 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:07.793 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.793 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:07.794 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'TokenManagementDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2026-01-14 22:33:07.794 +08:00 [DBG] Creating DbConnection.
2026-01-14 22:33:07.794 +08:00 [DBG] Created DbConnection. (0ms).
2026-01-14 22:33:07.795 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.795 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.795 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:07.795 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.795 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:07.795 +08:00 [DBG] Executing DbCommand [Parameters=[@__jti_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [RevokedTokens] AS [r]
        WHERE [r].[Jti] = @__jti_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-14 22:33:07.795 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__jti_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [RevokedTokens] AS [r]
        WHERE [r].[Jti] = @__jti_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-14 22:33:07.796 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.796 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:07.796 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.796 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:07.796 +08:00 [INF] Token with JTI 1E9D00A3F71471E92B154516ACE22DA9 has been revoked
2026-01-14 22:33:07.796 +08:00 [DBG] 'TokenManagementDbContext' disposed.
2026-01-14 22:33:07.796 +08:00 [DBG] Disposing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.796 +08:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-01-14 22:33:07.796 +08:00 [INF] Token introspection: JTI 1E9D00A3F71471E92B154516ACE22DA9 is revoked, marking as inactive
2026-01-14 22:33:07.797 +08:00 [INF] {"Details":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at Duende.IdentityServer.ResponseHandling.IntrospectionResponseGenerator.ProcessAsync(IntrospectionRequestValidationResult validationResult) in /_/identity-server/src/IdentityServer/ResponseHandling/Default/IntrospectionResponseGenerator.cs:line 61\r\n   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessIntrospectionRequestAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 155\r\n   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 84\r\n   at Duende.IdentityServer.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IdentityServerOptions options, IEndpointRouter router, IUserSession userSession, IEventService events, IIssuerNameService issuerNameService, ISessionCoordinationService sessionCoordinationService) in /_/identity-server/src/IdentityServer/Hosting/IdentityServerMiddleware.cs:line 114","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Object reference not set to an instance of an object.","ActivityId":"800163d7-0002-f600-b63f-84710c7967bb","TimeStamp":"2026-01-14T14:33:07.7971026","ProcessId":10908,"LocalIpAddress":"172.16.68.16:443","RemoteIpAddress":"172.16.8.121","$type":"UnhandledExceptionEvent"}
2026-01-14 22:33:07.797 +08:00 [FTL] Unhandled exception: Object reference not set to an instance of an object.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Duende.IdentityServer.ResponseHandling.IntrospectionResponseGenerator.ProcessAsync(IntrospectionRequestValidationResult validationResult) in /_/identity-server/src/IdentityServer/ResponseHandling/Default/IntrospectionResponseGenerator.cs:line 61
   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessIntrospectionRequestAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 155
   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 84
   at Duende.IdentityServer.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IdentityServerOptions options, IEndpointRouter router, IUserSession userSession, IEventService events, IIssuerNameService issuerNameService, ISessionCoordinationService sessionCoordinationService) in /_/identity-server/src/IdentityServer/Hosting/IdentityServerMiddleware.cs:line 114
2026-01-14 22:33:07.798 +08:00 [ERR] Connection ID "17726168143530910677", Request ID "800163d7-0002-f600-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Duende.IdentityServer.ResponseHandling.IntrospectionResponseGenerator.ProcessAsync(IntrospectionRequestValidationResult validationResult) in /_/identity-server/src/IdentityServer/ResponseHandling/Default/IntrospectionResponseGenerator.cs:line 61
   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessIntrospectionRequestAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 155
   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 84
   at Duende.IdentityServer.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IdentityServerOptions options, IEndpointRouter router, IUserSession userSession, IEventService events, IIssuerNameService issuerNameService, ISessionCoordinationService sessionCoordinationService) in /_/identity-server/src/IdentityServer/Hosting/IdentityServerMiddleware.cs:line 114
   at Duende.IdentityServer.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IdentityServerOptions options, IEndpointRouter router, IUserSession userSession, IEventService events, IIssuerNameService issuerNameService, ISessionCoordinationService sessionCoordinationService) in /_/identity-server/src/IdentityServer/Hosting/IdentityServerMiddleware.cs:line 136
   at Duende.IdentityServer.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in /_/identity-server/src/IdentityServer/Hosting/MutualTlsEndpointMiddleware.cs:line 118
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Duende.IdentityServer.Hosting.DynamicProviders.DynamicSchemeAuthenticationMiddleware.Invoke(HttpContext context) in /_/identity-server/src/IdentityServer/Hosting/DynamicProviders/DynamicSchemes/DynamicSchemeAuthenticationMiddleware.cs:line 50
   at Duende.IdentityServer.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in /_/identity-server/src/IdentityServer/Hosting/BaseUrlMiddleware.cs:line 23
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2026-01-14 22:33:07.799 +08:00 [DBG] 'AdminIdentityDbContext' disposed.
2026-01-14 22:33:07.799 +08:00 [DBG] Disposing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.799 +08:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-01-14 22:33:07.800 +08:00 [DBG] 'IdentityServerConfigurationDbContext' disposed.
2026-01-14 22:33:07.800 +08:00 [DBG] Disposing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:07.800 +08:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-01-14 22:33:07.800 +08:00 [INF] Request finished HTTP/1.1 POST https://prs.uccapital.com.tw/sts/connect/introspect - 500 null null 120.7175ms
2026-01-14 22:33:09.523 +08:00 [INF] Request starting HTTP/1.1 POST https://prs.uccapital.com.tw/sts/connect/introspect - application/x-www-form-urlencoded 1467
2026-01-14 22:33:09.523 +08:00 [DBG] POST requests are not supported
2026-01-14 22:33:09.523 +08:00 [DBG] POST requests are not supported
2026-01-14 22:33:09.549 +08:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.IntrospectionEndpoint for /connect/introspect
2026-01-14 22:33:09.550 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'IdentityServerConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: MigrationsAssembly=Skoruba.Duende.IdentityServer.Admin.EntityFramework.Configuration EngineType=SqlServer 
2026-01-14 22:33:09.552 +08:00 [DBG] Creating DbConnection.
2026-01-14 22:33:09.552 +08:00 [DBG] Created DbConnection. (0ms).
2026-01-14 22:33:09.552 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.552 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.552 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.552 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.552 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.553 +08:00 [DBG] Executing DbCommand [Parameters=[@__apiResourceNames_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[RequireResourceIndicator], [a].[ShowInDiscoveryDocument], [a].[Updated], [a1].[Id], [a1].[ApiResourceId], [a1].[Created], [a1].[Description], [a1].[Expiration], [a1].[Type], [a1].[Value], [a2].[Id], [a2].[ApiResourceId], [a2].[Scope], [a3].[Id], [a3].[ApiResourceId], [a3].[Type], [a4].[Id], [a4].[ApiResourceId], [a4].[Key], [a4].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a4] ON [a].[Id] = [a4].[ApiResourceId]
WHERE [a].[Name] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__apiResourceNames_0) WITH ([value] nvarchar(200) '$') AS [a0]
)
ORDER BY [a].[Id], [a1].[Id], [a2].[Id], [a3].[Id]
2026-01-14 22:33:09.554 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__apiResourceNames_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[RequireResourceIndicator], [a].[ShowInDiscoveryDocument], [a].[Updated], [a1].[Id], [a1].[ApiResourceId], [a1].[Created], [a1].[Description], [a1].[Expiration], [a1].[Type], [a1].[Value], [a2].[Id], [a2].[ApiResourceId], [a2].[Scope], [a3].[Id], [a3].[ApiResourceId], [a3].[Type], [a4].[Id], [a4].[ApiResourceId], [a4].[Key], [a4].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a4] ON [a].[Id] = [a4].[ApiResourceId]
WHERE [a].[Name] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__apiResourceNames_0) WITH ([value] nvarchar(200) '$') AS [a0]
)
ORDER BY [a].[Id], [a1].[Id], [a2].[Id], [a3].[Id]
2026-01-14 22:33:09.554 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.554 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:09.554 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.554 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:09.555 +08:00 [INF] {"ApiName":"riskcontrolsystemweb","Category":"Authentication","Name":"API Authentication Failure","EventType":"Failure","Id":1021,"Message":"Unknown API resource","ActivityId":"800163d8-0002-f600-b63f-84710c7967bb","TimeStamp":"2026-01-14T14:33:09.5550207","ProcessId":10908,"LocalIpAddress":"172.16.68.16:443","RemoteIpAddress":"172.16.8.121","$type":"ApiAuthenticationFailureEvent"}
2026-01-14 22:33:09.555 +08:00 [ERR] No API resource with that name found. aborting
2026-01-14 22:33:09.556 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.556 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.556 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.556 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.556 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.556 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.568 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.568 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.568 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.568 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.568 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.569 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.569 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.569 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.569 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.569 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.570 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.570 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.570 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.570 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.570 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.571 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.571 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.571 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.571 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.571 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.572 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.572 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.572 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.572 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.572 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.573 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.573 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.573 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.573 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.573 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.574 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.574 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.574 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.574 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.574 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.575 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.575 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.575 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.575 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.575 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.575 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.575 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.575 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.575 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.576 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.576 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.576 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.576 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 8ms reading results.
2026-01-14 22:33:09.576 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.576 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 7ms reading results.
2026-01-14 22:33:09.576 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.576 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 6ms reading results.
2026-01-14 22:33:09.576 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.576 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 5ms reading results.
2026-01-14 22:33:09.576 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.576 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 4ms reading results.
2026-01-14 22:33:09.577 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.577 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 3ms reading results.
2026-01-14 22:33:09.577 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.577 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 2ms reading results.
2026-01-14 22:33:09.577 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.577 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 2ms reading results.
2026-01-14 22:33:09.577 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.577 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 1ms reading results.
2026-01-14 22:33:09.577 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.577 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:09.577 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.577 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:09.577 +08:00 [INF] {"ClientId":"riskcontrolsystemweb","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"800163d8-0002-f600-b63f-84710c7967bb","TimeStamp":"2026-01-14T14:33:09.5775601","ProcessId":10908,"LocalIpAddress":"172.16.68.16:443","RemoteIpAddress":"172.16.8.121","$type":"ClientAuthenticationSuccessEvent"}
2026-01-14 22:33:09.578 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.578 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.578 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.578 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.578 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.578 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.579 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.580 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.580 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.580 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.580 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.580 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.581 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.581 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.581 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.581 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.581 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.581 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.582 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.582 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.582 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.582 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.582 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.582 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.583 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.583 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.583 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.583 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.583 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.583 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.583 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.584 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.584 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.584 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.584 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.584 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.585 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.585 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.585 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.585 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.585 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.586 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.586 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.586 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.586 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.586 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.587 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.587 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.587 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.587 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.587 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.588 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.588 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.588 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 8ms reading results.
2026-01-14 22:33:09.588 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.588 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 7ms reading results.
2026-01-14 22:33:09.588 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.588 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 6ms reading results.
2026-01-14 22:33:09.588 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.588 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 5ms reading results.
2026-01-14 22:33:09.588 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.588 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 4ms reading results.
2026-01-14 22:33:09.588 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.588 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 3ms reading results.
2026-01-14 22:33:09.588 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.588 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 2ms reading results.
2026-01-14 22:33:09.588 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.588 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 2ms reading results.
2026-01-14 22:33:09.588 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.588 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 1ms reading results.
2026-01-14 22:33:09.588 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.588 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:09.588 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.588 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:09.589 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.589 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.589 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.589 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.589 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.589 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.590 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.591 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.591 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.591 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.591 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.591 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.591 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.591 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.591 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.591 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.592 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.592 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.592 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.592 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.592 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.593 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.593 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.593 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.593 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.594 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.594 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.594 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.594 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.594 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.594 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.595 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.595 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.595 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.595 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.595 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.596 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.596 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.596 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.596 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.596 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.597 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.597 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.597 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.597 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.597 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.598 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.598 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.598 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.598 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.598 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.599 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:09.599 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.599 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 8ms reading results.
2026-01-14 22:33:09.599 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.599 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 7ms reading results.
2026-01-14 22:33:09.599 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.599 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 6ms reading results.
2026-01-14 22:33:09.599 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.599 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 5ms reading results.
2026-01-14 22:33:09.599 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.599 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 4ms reading results.
2026-01-14 22:33:09.599 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.599 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 3ms reading results.
2026-01-14 22:33:09.599 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.599 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 3ms reading results.
2026-01-14 22:33:09.599 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.599 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 2ms reading results.
2026-01-14 22:33:09.599 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.599 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 1ms reading results.
2026-01-14 22:33:09.599 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.599 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:09.599 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.599 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:09.600 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'AdminIdentityDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: MigrationsAssembly=Skoruba.Duende.IdentityServer.Admin.EntityFramework.Configuration EngineType=SqlServer 
2026-01-14 22:33:09.601 +08:00 [DBG] Creating DbConnection.
2026-01-14 22:33:09.601 +08:00 [DBG] Created DbConnection. (0ms).
2026-01-14 22:33:09.601 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.601 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.601 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.601 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.601 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.601 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PrimaryOrganizationId], [u].[SecurityStamp], [u].[TenantId], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2026-01-14 22:33:09.602 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PrimaryOrganizationId], [u].[SecurityStamp], [u].[TenantId], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2026-01-14 22:33:09.602 +08:00 [DBG] Context 'AdminIdentityDbContext' started tracking 'UserIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-14 22:33:09.602 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.602 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:09.602 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.602 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:09.605 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'TokenManagementDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2026-01-14 22:33:09.605 +08:00 [DBG] Creating DbConnection.
2026-01-14 22:33:09.606 +08:00 [DBG] Created DbConnection. (0ms).
2026-01-14 22:33:09.606 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.606 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.606 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:09.606 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.606 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:09.606 +08:00 [DBG] Executing DbCommand [Parameters=[@__jti_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [RevokedTokens] AS [r]
        WHERE [r].[Jti] = @__jti_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-14 22:33:09.607 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__jti_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [RevokedTokens] AS [r]
        WHERE [r].[Jti] = @__jti_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-14 22:33:09.607 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.607 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:09.607 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.607 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:09.607 +08:00 [INF] Token with JTI 1E9D00A3F71471E92B154516ACE22DA9 has been revoked
2026-01-14 22:33:09.607 +08:00 [DBG] 'TokenManagementDbContext' disposed.
2026-01-14 22:33:09.607 +08:00 [DBG] Disposing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.607 +08:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-01-14 22:33:09.607 +08:00 [INF] Token introspection: JTI 1E9D00A3F71471E92B154516ACE22DA9 is revoked, marking as inactive
2026-01-14 22:33:09.607 +08:00 [INF] {"Details":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at Duende.IdentityServer.ResponseHandling.IntrospectionResponseGenerator.ProcessAsync(IntrospectionRequestValidationResult validationResult) in /_/identity-server/src/IdentityServer/ResponseHandling/Default/IntrospectionResponseGenerator.cs:line 61\r\n   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessIntrospectionRequestAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 155\r\n   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 84\r\n   at Duende.IdentityServer.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IdentityServerOptions options, IEndpointRouter router, IUserSession userSession, IEventService events, IIssuerNameService issuerNameService, ISessionCoordinationService sessionCoordinationService) in /_/identity-server/src/IdentityServer/Hosting/IdentityServerMiddleware.cs:line 114","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Object reference not set to an instance of an object.","ActivityId":"800163d8-0002-f600-b63f-84710c7967bb","TimeStamp":"2026-01-14T14:33:09.6077316","ProcessId":10908,"LocalIpAddress":"172.16.68.16:443","RemoteIpAddress":"172.16.8.121","$type":"UnhandledExceptionEvent"}
2026-01-14 22:33:09.607 +08:00 [FTL] Unhandled exception: Object reference not set to an instance of an object.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Duende.IdentityServer.ResponseHandling.IntrospectionResponseGenerator.ProcessAsync(IntrospectionRequestValidationResult validationResult) in /_/identity-server/src/IdentityServer/ResponseHandling/Default/IntrospectionResponseGenerator.cs:line 61
   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessIntrospectionRequestAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 155
   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 84
   at Duende.IdentityServer.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IdentityServerOptions options, IEndpointRouter router, IUserSession userSession, IEventService events, IIssuerNameService issuerNameService, ISessionCoordinationService sessionCoordinationService) in /_/identity-server/src/IdentityServer/Hosting/IdentityServerMiddleware.cs:line 114
2026-01-14 22:33:09.608 +08:00 [ERR] Connection ID "17726168143530910677", Request ID "800163d8-0002-f600-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Duende.IdentityServer.ResponseHandling.IntrospectionResponseGenerator.ProcessAsync(IntrospectionRequestValidationResult validationResult) in /_/identity-server/src/IdentityServer/ResponseHandling/Default/IntrospectionResponseGenerator.cs:line 61
   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessIntrospectionRequestAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 155
   at Duende.IdentityServer.Endpoints.IntrospectionEndpoint.ProcessAsync(HttpContext context) in /_/identity-server/src/IdentityServer/Endpoints/IntrospectionEndpoint.cs:line 84
   at Duende.IdentityServer.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IdentityServerOptions options, IEndpointRouter router, IUserSession userSession, IEventService events, IIssuerNameService issuerNameService, ISessionCoordinationService sessionCoordinationService) in /_/identity-server/src/IdentityServer/Hosting/IdentityServerMiddleware.cs:line 114
   at Duende.IdentityServer.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IdentityServerOptions options, IEndpointRouter router, IUserSession userSession, IEventService events, IIssuerNameService issuerNameService, ISessionCoordinationService sessionCoordinationService) in /_/identity-server/src/IdentityServer/Hosting/IdentityServerMiddleware.cs:line 136
   at Duende.IdentityServer.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in /_/identity-server/src/IdentityServer/Hosting/MutualTlsEndpointMiddleware.cs:line 118
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Duende.IdentityServer.Hosting.DynamicProviders.DynamicSchemeAuthenticationMiddleware.Invoke(HttpContext context) in /_/identity-server/src/IdentityServer/Hosting/DynamicProviders/DynamicSchemes/DynamicSchemeAuthenticationMiddleware.cs:line 50
   at Duende.IdentityServer.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in /_/identity-server/src/IdentityServer/Hosting/BaseUrlMiddleware.cs:line 23
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2026-01-14 22:33:09.608 +08:00 [DBG] 'AdminIdentityDbContext' disposed.
2026-01-14 22:33:09.609 +08:00 [DBG] Disposing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.609 +08:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-01-14 22:33:09.609 +08:00 [DBG] 'IdentityServerConfigurationDbContext' disposed.
2026-01-14 22:33:09.609 +08:00 [DBG] Disposing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:09.609 +08:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-01-14 22:33:09.609 +08:00 [INF] Request finished HTTP/1.1 POST https://prs.uccapital.com.tw/sts/connect/introspect - 500 null null 85.7467ms
2026-01-14 22:33:13.772 +08:00 [INF] Request starting HTTP/1.1 POST https://prs.uccapital.com.tw/sts/connect/revocation - application/x-www-form-urlencoded 1496
2026-01-14 22:33:13.773 +08:00 [DBG] POST requests are not supported
2026-01-14 22:33:13.773 +08:00 [DBG] POST requests are not supported
2026-01-14 22:33:13.774 +08:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.TokenRevocationEndpoint for /connect/revocation
2026-01-14 22:33:13.777 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'IdentityServerConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: MigrationsAssembly=Skoruba.Duende.IdentityServer.Admin.EntityFramework.Configuration EngineType=SqlServer 
2026-01-14 22:33:13.778 +08:00 [DBG] Creating DbConnection.
2026-01-14 22:33:13.778 +08:00 [DBG] Created DbConnection. (0ms).
2026-01-14 22:33:13.778 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.778 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.778 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:13.778 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.778 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.778 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.797 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[CibaLifetime], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[CoordinateLifetimeWithUserSession], [c].[Created], [c].[DPoPClockSkew], [c].[DPoPValidationMode], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[InitiateLoginUri], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[PollingInterval], [c].[ProtocolType], [c].[PushedAuthorizationLifetime], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequireDPoP], [c].[RequirePkce], [c].[RequirePushedAuthorization], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.798 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:13.798 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.798 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.798 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.799 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.799 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:13.799 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.799 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.799 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.799 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[GrantType], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c1] ON [c].[Id] = [c1].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.799 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:13.799 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.799 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.799 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.800 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c2] ON [c].[Id] = [c2].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.800 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:13.800 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.800 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.800 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.800 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Type], [c3].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c3] ON [c].[Id] = [c3].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.801 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:13.801 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.801 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.801 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.801 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Created], [c4].[Description], [c4].[Expiration], [c4].[Type], [c4].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c4] ON [c].[Id] = [c4].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.801 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:13.801 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.801 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.801 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.802 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c5] ON [c].[Id] = [c5].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.802 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:13.802 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.802 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.802 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.802 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[PostLogoutRedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c6] ON [c].[Id] = [c6].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.803 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:13.803 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.803 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.803 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.803 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c7].[Id], [c7].[ClientId], [c7].[Key], [c7].[Value], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c7] ON [c].[Id] = [c7].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.803 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:13.803 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.803 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.803 +08:00 [DBG] Executing DbCommand [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.804 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ClientId], [c8].[RedirectUri], [c].[Id]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c8] ON [c].[Id] = [c8].[ClientId]
WHERE [c].[ClientId] = @__clientId_0
ORDER BY [c].[Id]
2026-01-14 22:33:13.804 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.804 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 6ms reading results.
2026-01-14 22:33:13.804 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.804 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 5ms reading results.
2026-01-14 22:33:13.804 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.804 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 4ms reading results.
2026-01-14 22:33:13.804 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.804 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 4ms reading results.
2026-01-14 22:33:13.804 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.804 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 3ms reading results.
2026-01-14 22:33:13.804 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.804 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 2ms reading results.
2026-01-14 22:33:13.804 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.804 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 2ms reading results.
2026-01-14 22:33:13.804 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.804 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 1ms reading results.
2026-01-14 22:33:13.804 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.804 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 1ms reading results.
2026-01-14 22:33:13.804 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.804 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:13.804 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.804 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:13.805 +08:00 [INF] {"ClientId":"riskcontrolsystemweb","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"800163d9-0002-f600-b63f-84710c7967bb","TimeStamp":"2026-01-14T14:33:13.8049971","ProcessId":10908,"LocalIpAddress":"172.16.68.16:443","RemoteIpAddress":"172.16.8.121","$type":"ClientAuthenticationSuccessEvent"}
2026-01-14 22:33:13.816 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'TokenManagementDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2026-01-14 22:33:13.818 +08:00 [DBG] Compiling query expression: 
'DbSet<RevokedToken>()
    .Any(x => x.Jti == __jti_0)'
2026-01-14 22:33:13.821 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM RevokedTokens AS r
            WHERE r.Jti == @__jti_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM RevokedTokens AS r
            WHERE r.Jti == @__jti_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Skoruba.Duende.IdentityServer.Admin.EntityFramework.DbContexts.TokenManagementDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2026-01-14 22:33:13.824 +08:00 [DBG] Creating DbConnection.
2026-01-14 22:33:13.824 +08:00 [DBG] Created DbConnection. (0ms).
2026-01-14 22:33:13.824 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.824 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.824 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:13.824 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.824 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.824 +08:00 [DBG] Executing DbCommand [Parameters=[@__jti_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [RevokedTokens] AS [r]
        WHERE [r].[Jti] = @__jti_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-14 22:33:13.825 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__jti_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [RevokedTokens] AS [r]
        WHERE [r].[Jti] = @__jti_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-14 22:33:13.825 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.825 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:13.825 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.825 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:13.825 +08:00 [DBG] 'TokenManagementDbContext' disposed.
2026-01-14 22:33:13.825 +08:00 [DBG] Disposing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.825 +08:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-01-14 22:33:13.830 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'IdentityServerPersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: MigrationsAssembly=Skoruba.Duende.IdentityServer.Admin.EntityFramework.Configuration EngineType=SqlServer 
2026-01-14 22:33:13.831 +08:00 [DBG] Compiling query expression: 
'DbSet<PersistedGrant>()
    .AsNoTracking()
    .Where(x => x.Key == __key_0)'
2026-01-14 22:33:13.838 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<PersistedGrant>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PersistedGrant.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PersistedGrant.ClientId (string) Required Index MaxLength(200), 1], [Property: PersistedGrant.ConsumedTime (DateTime?) Index, 2], [Property: PersistedGrant.CreationTime (DateTime) Required, 3], [Property: PersistedGrant.Data (string) Required MaxLength(50000), 4], [Property: PersistedGrant.Description (string) MaxLength(200), 5], [Property: PersistedGrant.Expiration (DateTime?) Index, 6], [Property: PersistedGrant.Key (string) Index MaxLength(200), 7], [Property: PersistedGrant.SessionId (string) Index MaxLength(100), 8], [Property: PersistedGrant.SubjectId (string) Index MaxLength(200), 9], [Property: PersistedGrant.Type (string) Required Index MaxLength(50), 10] }
        SELECT p.Id, p.ClientId, p.ConsumedTime, p.CreationTime, p.Data, p.Description, p.Expiration, p.Key, p.SessionId, p.SubjectId, p.Type
        FROM PersistedGrants AS p
        WHERE p.Key == @__key_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PersistedGrant.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PersistedGrant.ClientId (string) Required Index MaxLength(200), 1], [Property: PersistedGrant.ConsumedTime (DateTime?) Index, 2], [Property: PersistedGrant.CreationTime (DateTime) Required, 3], [Property: PersistedGrant.Data (string) Required MaxLength(50000), 4], [Property: PersistedGrant.Description (string) MaxLength(200), 5], [Property: PersistedGrant.Expiration (DateTime?) Index, 6], [Property: PersistedGrant.Key (string) Index MaxLength(200), 7], [Property: PersistedGrant.SessionId (string) Index MaxLength(100), 8], [Property: PersistedGrant.SubjectId (string) Index MaxLength(200), 9], [Property: PersistedGrant.Type (string) Required Index MaxLength(50), 10] }
        SELECT p.Id, p.ClientId, p.ConsumedTime, p.CreationTime, p.Data, p.Description, p.Expiration, p.Key, p.SessionId, p.SubjectId, p.Type
        FROM PersistedGrants AS p
        WHERE p.Key == @__key_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        PersistedGrant entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            PersistedGrant instance1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(PersistedGrant);
            (object)dataReader.GetInt64(0) != null ? 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: PersistedGrant | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.PersistedGrant")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: PersistedGrant | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.PersistedGrant")]: 
                        {
                            return 
                            {
                                PersistedGrant instance;
                                instance = new PersistedGrant();
                                instance.<Id>k__BackingField = dataReader.GetInt64(0);
                                instance.<ClientId>k__BackingField = dataReader.GetString(1);
                                instance.<ConsumedTime>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                instance.<CreationTime>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Data>k__BackingField = dataReader.GetString(4);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<Expiration>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                instance.<Key>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<SessionId>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<SubjectId>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<Type>k__BackingField = dataReader.GetString(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: PersistedGrant | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.PersistedGrant")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(PersistedGrant)
                }
                ;
                return instance1;
            } : 
            {
                object[] keyValues1;
                keyValues1 = new object[]{ (object)dataReader.GetInt64(0) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: PersistedGrant | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.PersistedGrant")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: PersistedGrant.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Duende.IdentityServer.EntityFramework.Entities.PersistedGrant").FindPrimaryKey().Properties], 
                    keyValues: keyValues1);
            };
            return instance1;
        };
        return entity;
    }, 
    contextType: Skoruba.Duende.IdentityServer.Admin.EntityFramework.Shared.DbContexts.IdentityServerPersistedGrantDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-01-14 22:33:13.843 +08:00 [DBG] Creating DbConnection.
2026-01-14 22:33:13.843 +08:00 [DBG] Created DbConnection. (0ms).
2026-01-14 22:33:13.843 +08:00 [DBG] Opening connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.843 +08:00 [DBG] Opened connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.843 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-14 22:33:13.843 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.843 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-14 22:33:13.843 +08:00 [DBG] Executing DbCommand [Parameters=[@__key_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[Key], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__key_0
2026-01-14 22:33:13.844 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[Key], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__key_0
2026-01-14 22:33:13.844 +08:00 [DBG] Closing data reader to 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.844 +08:00 [DBG] A data reader for 'IdentitySysDB' on server '172.16.38.11' is being disposed after spending 0ms reading results.
2026-01-14 22:33:13.844 +08:00 [DBG] Closing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.844 +08:00 [DBG] Closed connection to database 'IdentitySysDB' on server '172.16.38.11' (0ms).
2026-01-14 22:33:13.847 +08:00 [INF] No matching token found
2026-01-14 22:33:13.854 +08:00 [DBG] 'IdentityServerConfigurationDbContext' disposed.
2026-01-14 22:33:13.854 +08:00 [DBG] Disposing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.854 +08:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-01-14 22:33:13.854 +08:00 [DBG] 'IdentityServerPersistedGrantDbContext' disposed.
2026-01-14 22:33:13.854 +08:00 [DBG] Disposing connection to database 'IdentitySysDB' on server '172.16.38.11'.
2026-01-14 22:33:13.854 +08:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-01-14 22:33:13.855 +08:00 [INF] Request finished HTTP/1.1 POST https://prs.uccapital.com.tw/sts/connect/revocation - 200 null null 82.1678ms
